import{j as s,X as u,r as h,F as x,p as r,Y as g,W as j,Z as f,_ as y,$ as b}from"./chakra-64806fe2.js";import{u as C,a as c,s as T,R as v,b as R,r as l,c as S,d as w}from"./index-d57ab553.js";import{u as k,E as z,a as E,b as H}from"./use-templates-7dae7b6f.js";import{u as m,k as P}from"./react-5237688d.js";function A(){const{t:a}=m(),t=C(),o=P(),{selectedCompany:n}=c(i=>i.app),e=k(),p=[{type:"select",label:a("Company"),value:n,options:e,disabledOptions:[""],onChange:i=>t(T(i))}],d=()=>{l.isStandaloneWindow()?o("/new"):l.openApp("rmg-templates-upload"),l.event(z.UPLOAD_TEMPLATES,{})};return s.jsxs(v,{children:[s.jsx(R,{fields:p}),s.jsx(u,{ml:"auto",children:s.jsx(h,{variant:"solid",size:"sm",colorScheme:"primary",onClick:d,children:a("Upload templates")})})]})}const B={flexDirection:"column",p:2,"& h2":{mb:2}};function N(){const{t:a}=m(),t=E(),{selectedCompany:o}=c(e=>e.app),{templates:n}=H(o);return n.length?s.jsx(g,{minChildWidth:220,spacing:2,px:2,maxH:"100%",overflowY:"scroll",children:n.map(e=>s.jsxs(S,{sx:B,children:[s.jsx(j,{as:"h2",size:"md",children:t(e.name)}),s.jsxs(r,{fontSize:"sm",children:[a("Uploader"),": ",s.jsxs(f,{size:"sm",borderRadius:"full",onClick:()=>window.open(`https://github.com/railmapgen/rmg-templates/issues?q=is:issue+author:${e.uploadBy}`,"_blank"),cursor:"pointer",children:[s.jsx(y,{src:`https://github.com/${e.uploadBy}.png`,size:"xs",ml:-1,mr:2}),s.jsx(b,{children:e.uploadBy})]})]})]},e.filename))}):s.jsx(x,{h:"100%",w:"100%",alignItems:"center",justifyContent:"center",children:s.jsx(r,{as:"i",children:a("No templates available in selected company.")})})}function L(){return s.jsxs(w,{children:[s.jsx(A,{}),s.jsx(N,{})]})}export{L as default};
