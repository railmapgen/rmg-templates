import{j as s,af as g,t as f,h as j,N as d,ag as y,ae as C,T as b,ah as T,b as v}from"./chakra-wx10Q20x.js";import{u,j as S,s as R}from"./react-CX09YTTM.js";import{u as h,s as N,b as k,r as m,E as w,c as z}from"./index-ltAXfGTd.js";import{a as E,R as H,u as P,b as A}from"./use-templates-B_H6WLH0.js";function B(){const{t:n}=u(),t=S(),a=R(),{selectedCompany:o}=h(e=>e.app),r=E(),l=[{type:"select",label:n("Company"),value:o,options:r,disabledOptions:[""],onChange:e=>t(N(e))}],i=()=>{m.isStandaloneWindow()?a("/new"):m.openApp({appId:"rmg-templates-upload"}),m.event(w.UPLOAD_TEMPLATES,{})};return s.jsxs(k,{children:[s.jsx(H,{fields:l}),s.jsx(g,{ml:"auto",children:s.jsx(f,{variant:"solid",size:"sm",colorScheme:"primary",onClick:i,children:n("Upload templates")})})]})}const O={flexDirection:"column",p:2,"&.selected":{outlineColor:"primary.500",outlineWidth:2,outlineStyle:"solid",'[data-theme="dark"] &':{outlineColor:"primary.200"}},"& h2":{mb:2},"& .card-author":{borderRadius:"full",cursor:"pointer"}};function F(n){const{selectedTemplate:t,onTemplateSelect:a}=n,{t:o}=u(),r=P(),{selectedCompany:l}=h(e=>e.app),{templates:i}=A(l);return i.length?s.jsx(y,{minChildWidth:220,spacing:2,px:2,pb:2,maxH:"100%",overflowY:"scroll",children:i.map(e=>{const{filename:p,name:x,uploadBy:c}=e;return s.jsxs(z,{className:(t==null?void 0:t.filename)===p?"selected":"",onClick:()=>a==null?void 0:a(e),cursor:a?"pointer":"unset",sx:O,children:[s.jsx(C,{as:"h2",size:"md",children:r(x)}),s.jsxs(d,{fontSize:"sm",children:[o("Uploader"),": ",s.jsxs(b,{size:"sm",className:"card-author",onClick:()=>!a&&window.open("https://github.com/railmapgen/rmg-templates/issues?q=is:issue+author:".concat(c),"_blank"),children:[s.jsx(T,{src:"https://github.com/".concat(c,".png"),size:"xs",ml:-1,mr:2}),s.jsx(v,{children:c})]})]})]},p)})}):s.jsx(j,{h:"100%",w:"100%",alignItems:"center",justifyContent:"center",children:s.jsx(d,{as:"i",children:o("No templates available in selected company.")})})}export{B as P,F as T};
