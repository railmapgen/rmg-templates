import{j as s,as as g,O as j,g as f,a4 as d,at as y,ar as C,au as b,av as v,aw as S}from"./chakra-H1cJ9d84.js";import{u,j as T,p as R}from"./react-LOVzqORn.js";import{u as h,s as w,b as k,r as m,E as N,c as z}from"./index-DR3l7DHW.js";import{a as E,R as H,u as O,b as P}from"./use-templates-xWdapIpH.js";function B(){const{t:n}=u(),t=T(),a=R(),{selectedCompany:o}=h(e=>e.app),r=E(),l=[{type:"select",label:n("Company"),value:o,options:r,disabledOptions:[""],onChange:e=>t(w(e))}],i=()=>{m.isStandaloneWindow()?a("/new"):m.openApp("rmg-templates-upload"),m.event(N.UPLOAD_TEMPLATES,{})};return s.jsxs(k,{children:[s.jsx(H,{fields:l}),s.jsx(g,{ml:"auto",children:s.jsx(j,{variant:"solid",size:"sm",colorScheme:"primary",onClick:i,children:n("Upload templates")})})]})}const A={flexDirection:"column",p:2,"&.selected":{outlineColor:"primary.500",outlineWidth:2,outlineStyle:"solid",'[data-theme="dark"] &':{outlineColor:"primary.200"}},"& h2":{mb:2},"& .card-author":{borderRadius:"full",cursor:"pointer"}};function F(n){const{selectedTemplate:t,onTemplateSelect:a}=n,{t:o}=u(),r=O(),{selectedCompany:l}=h(e=>e.app),{templates:i}=P(l);return i.length?s.jsx(y,{minChildWidth:220,spacing:2,px:2,pb:2,maxH:"100%",overflowY:"scroll",children:i.map(e=>{const{filename:p,name:x,uploadBy:c}=e;return s.jsxs(z,{className:(t==null?void 0:t.filename)===p?"selected":"",onClick:()=>a==null?void 0:a(e),cursor:a?"pointer":"unset",sx:A,children:[s.jsx(C,{as:"h2",size:"md",children:r(x)}),s.jsxs(d,{fontSize:"sm",children:[o("Uploader"),": ",s.jsxs(b,{size:"sm",className:"card-author",onClick:()=>!a&&window.open("https://github.com/railmapgen/rmg-templates/issues?q=is:issue+author:".concat(c),"_blank"),children:[s.jsx(v,{src:"https://github.com/".concat(c,".png"),size:"xs",ml:-1,mr:2}),s.jsx(S,{children:c})]})]})]},p)})}):s.jsx(f,{h:"100%",w:"100%",alignItems:"center",justifyContent:"center",children:s.jsx(d,{as:"i",children:o("No templates available in selected company.")})})}export{B as P,F as T};
