import{j as e,Y as g,r as j,F as f,p as d,Z as y,W as C,_ as b,$ as T,a0 as v}from"./chakra-4d1cedbe.js";import{b as S,u,s as R,c as k,d as w,r as p,e as N}from"./index-e86f816f.js";import{u as z,E,a as H,b as P}from"./use-templates-ce2cbd78.js";import{u as h,l as A}from"./react-d5c86316.js";function L(){const{t}=h(),l=S(),s=A(),{selectedCompany:n}=u(a=>a.app),i=z(),r=[{type:"select",label:t("Company"),value:n,options:i,disabledOptions:[""],onChange:a=>l(R(a))}],o=()=>{p.isStandaloneWindow()?s("/new"):p.openApp("rmg-templates-upload"),p.event(E.UPLOAD_TEMPLATES,{})};return e.jsxs(k,{children:[e.jsx(w,{fields:r}),e.jsx(g,{ml:"auto",children:e.jsx(j,{variant:"solid",size:"sm",colorScheme:"primary",onClick:o,children:t("Upload templates")})})]})}const O={flexDirection:"column",p:2,"&.selected":{outlineColor:"primary.500",outlineWidth:2,outlineStyle:"solid",'[data-theme="dark"] &':{outlineColor:"primary.200"}},"& h2":{mb:2},"& .card-author":{borderRadius:"full",cursor:"pointer"}};function _(t){const{selectedTemplate:l,onTemplateSelect:s}=t,{t:n}=h(),i=H(),{selectedCompany:r}=u(a=>a.app),{templates:o}=P(r);return o.length?e.jsx(y,{minChildWidth:220,spacing:2,px:2,pb:2,maxH:"100%",overflowY:"scroll",children:o.map(a=>{const{filename:c,name:x,uploadBy:m}=a;return e.jsxs(N,{className:l===c?"selected":"",onClick:()=>s==null?void 0:s(c),cursor:s?"pointer":"unset",sx:O,children:[e.jsx(C,{as:"h2",size:"md",children:i(x)}),e.jsxs(d,{fontSize:"sm",children:[n("Uploader"),": ",e.jsxs(b,{size:"sm",className:"card-author",onClick:()=>!s&&window.open(`https://github.com/railmapgen/rmg-templates/issues?q=is:issue+author:${m}`,"_blank"),children:[e.jsx(T,{src:`https://github.com/${m}.png`,size:"xs",ml:-1,mr:2}),e.jsx(v,{children:m})]})]})]},c)})}):e.jsx(f,{h:"100%",w:"100%",alignItems:"center",justifyContent:"center",children:e.jsx(d,{as:"i",children:n("No templates available in selected company.")})})}export{L as P,_ as T};
