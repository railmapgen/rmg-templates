import{j as e,X as f,r as y,F as C,p as c,Y as T,W as b,Z as v,_ as R,$ as S}from"./chakra-64806fe2.js";import{u as w,a as m,s as P,R as k,b as z,r,c as E,d as H}from"./index-05e85bb4.js";import{u as p,E as N,a as A}from"./use-templates-fd8cb320.js";import{u as d,k as B}from"./react-5237688d.js";function U(){const{t:n,i18n:i}=d(),l=p(),t=w(),a=B(),{companyConfig:u,selectedCompany:h}=m(s=>s.app),g=u.map(s=>[s.id,l(s.name)]).sort((s,o)=>s[1].localeCompare(o[1],i.languages[0])).reduce((s,o)=>({...s,[o[0]]:o[1]}),{"":n("Please select...")}),x=[{type:"select",label:n("Company"),value:h,options:g,disabledOptions:[""],onChange:s=>t(P(s))}],j=()=>{r.isStandaloneWindow()?a("/new"):r.openApp("rmg-templates-upload"),r.event(N.UPLOAD_TEMPLATES,{})};return e.jsxs(k,{children:[e.jsx(z,{fields:x}),e.jsx(f,{ml:"auto",children:e.jsx(y,{variant:"solid",size:"sm",colorScheme:"primary",onClick:j,children:n("Upload templates")})})]})}const D={flexDirection:"column",p:2,"& h2":{mb:2}};function F(){const{t:n}=d(),i=p(),{selectedCompany:l}=m(a=>a.app),{templates:t}=A(l);return t.length?e.jsx(T,{minChildWidth:220,spacing:2,maxH:"100%",overflowY:"scroll",children:t.map(a=>e.jsxs(E,{sx:D,children:[e.jsx(b,{as:"h2",size:"md",children:i(a.name)}),e.jsxs(c,{fontSize:"sm",children:[n("Uploader"),": ",e.jsxs(v,{size:"sm",borderRadius:"full",onClick:()=>window.open(`https://github.com/railmapgen/rmg-templates/issues?q=is:issue+author:${a.uploadBy}`,"_blank"),cursor:"pointer",children:[e.jsx(R,{src:`https://github.com/${a.uploadBy}.png`,size:"xs",ml:-1,mr:2}),e.jsx(S,{children:a.uploadBy})]})]})]},a.filename))}):e.jsx(C,{h:"100%",w:"100%",alignItems:"center",justifyContent:"center",children:e.jsx(c,{as:"i",children:"No templates available in selected company."})})}function $(){return e.jsxs(H,{children:[e.jsx(U,{}),e.jsx(F,{})]})}export{$ as default};
