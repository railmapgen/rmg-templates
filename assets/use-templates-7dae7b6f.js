import{a as T,e as u,y as m}from"./index-d57ab553.js";import{u as p,r as l}from"./react-5237688d.js";var c=(t=>(t.APP_LOAD="APP_LOAD",t.UPLOAD_TEMPLATES="UPLOAD_TEMPLATES",t.RESET_TICKETS="RESET_TICKETS",t))(c||{});const C={COMPANY_CODE_UNDEFINED:{en:"Company code is missing","zh-Hans":"缺少铁路公司代码","zh-Hant":"缺少鐵路公司代碼"},COMPANY_NAME_INCOMPLETE:{en:"Company name is not completed","zh-Hans":"公司名称不完整","zh-Hant":"公司名稱不完整"},TEMPLATE_SECTION_EMPTY:{en:"Template section is empty","zh-Hans":"模板部份为空白","zh-Hant":"範本部份為空白"},TEMPLATE_CODE_UNDEFINED:{en:"Template code is missing","zh-Hans":"至少1个模板的代码缺失","zh-Hant":"至少1個範本的代碼缺失"},TEMPLATE_CODE_DUPLICATED:{en:"Duplicated template code found","zh-Hans":"包含重复的模板代码","zh-Hant":"包含重複的範本代碼"},TEMPLATE_NAME_INCOMPLETE:{en:"Template name is not completed","zh-Hans":"模板名称不完整","zh-Hant":"範本名稱不完整"},TEMPLATE_PARAM_UNDEFINED:{en:"Configuration file is not uploaded","zh-Hans":"未上传模板配置文件","zh-Hant":"未上載範本設定檔"}},P="**Do not edit lines below, they are meant for bots only!!!**";function h(){const{i18n:t}=p();return o=>{var s,i;return(i=(s=t.languages.map(n=>o[n]).find(n=>n!==void 0))!=null?s:o.en)!=null?i:"(Translation Error)"}}function f(){const{t,i18n:o}=p(),s=h(),{coreCompanyConfig:i,otherCompanyConfig:n}=T(e=>e.app),E=i.map(e=>[e.id,s(e.name)]).reduce((e,a)=>({...e,[a[0]]:a[1]}),{"":t("Please select...")}),r=n.map(e=>[e.id,s(e.name)]).sort((e,a)=>e[1].localeCompare(a[1],o.languages[0])).reduce((e,a)=>({...e,[a[0]]:a[1]}),{});return{[t("Core companies")]:E,[t("Other companies")]:r}}function d(t){const o=u(),{templateList:s}=T(e=>e.app),[i,n]=l.useState([]),[E,r]=l.useState(!1);return l.useEffect(()=>{!t||t==="new"?n([]):t in s?n(s[t]):(r(!0),fetch("/rmg-templates/resources/templates/"+t+"/00config.json").then(e=>e.json()).then(e=>{n(e),o(m({company:t,templates:e}))}).finally(()=>r(!1)))},[t]),{templates:i,isLoading:E}}export{c as E,P as G,C as I,h as a,d as b,f as u};
