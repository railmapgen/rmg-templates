import{j as s,Z as g,d as f,e as j,s as d,_ as y,X as C,$ as b,a0 as v,a1 as S}from"./chakra-0292837a.js";import{b as T,u,s as R,c as k,r as m,E as w,d as N}from"./index-f2e18445.js";import{a as z,R as E,u as H,b as P}from"./use-templates-f45db4c5.js";import{u as h,n as A}from"./react-61f43b90.js";function _(){const{t:n}=h(),t=T(),a=A(),{selectedCompany:o}=u(e=>e.app),r=z(),l=[{type:"select",label:n("Company"),value:o,options:r,disabledOptions:[""],onChange:e=>t(R(e))}],i=()=>{m.isStandaloneWindow()?a("/new"):m.openApp("rmg-templates-upload"),m.event(w.UPLOAD_TEMPLATES,{})};return s.jsxs(k,{children:[s.jsx(E,{fields:l}),s.jsx(g,{ml:"auto",children:s.jsx(f,{variant:"solid",size:"sm",colorScheme:"primary",onClick:i,children:n("Upload templates")})})]})}const O={flexDirection:"column",p:2,"&.selected":{outlineColor:"primary.500",outlineWidth:2,outlineStyle:"solid",'[data-theme="dark"] &':{outlineColor:"primary.200"}},"& h2":{mb:2},"& .card-author":{borderRadius:"full",cursor:"pointer"}};function $(n){const{selectedTemplate:t,onTemplateSelect:a}=n,{t:o}=h(),r=H(),{selectedCompany:l}=u(e=>e.app),{templates:i}=P(l);return i.length?s.jsx(y,{minChildWidth:220,spacing:2,px:2,pb:2,maxH:"100%",overflowY:"scroll",children:i.map(e=>{const{filename:p,name:x,uploadBy:c}=e;return s.jsxs(N,{className:(t==null?void 0:t.filename)===p?"selected":"",onClick:()=>a==null?void 0:a(e),cursor:a?"pointer":"unset",sx:O,children:[s.jsx(C,{as:"h2",size:"md",children:r(x)}),s.jsxs(d,{fontSize:"sm",children:[o("Uploader"),": ",s.jsxs(b,{size:"sm",className:"card-author",onClick:()=>!a&&window.open(`https://github.com/railmapgen/rmg-templates/issues?q=is:issue+author:${c}`,"_blank"),children:[s.jsx(v,{src:`https://github.com/${c}.png`,size:"xs",ml:-1,mr:2}),s.jsx(S,{children:c})]})]})]},p)})}):s.jsx(j,{h:"100%",w:"100%",alignItems:"center",justifyContent:"center",children:s.jsx(d,{as:"i",children:o("No templates available in selected company.")})})}export{_ as P,$ as T};
