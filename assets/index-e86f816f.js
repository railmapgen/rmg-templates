import{u as H,a as $n,j as h,P as In,B as pt,b as Xt,I as Mn,F,T as Bn,c as Fn,d as Dn,e as Un,f as Vn,g as Wn,h as Gn,i as Kn,k as Jn,A as Yn,M as qn,l as Qn,m as Zn,n as Xn,o as er,p as D,q as tr,r as mt,s as en,L as yt,t as nr,v as rr,w as or,x as ar,y as ir,z as sr,S as lr,C as vt,D as ur,E as cr,G as fr,H as hr,J as dr,K as gr,N as te,O as pr,Q as mr,R as yr,U as vr,V as br,W as wr}from"./chakra-4d1cedbe.js";import{r as y,b as tn,a as nn,u as xr,H as Sr,d as Or,e as Fe,f as rn,h as Cr,i as _r,j as Tr,I as Rr}from"./react-d5c86316.js";function hu(){import.meta.url,import("_").catch(()=>1);async function*t(){}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const on=t=>new Promise(e=>{setTimeout(e,t,`Timeout after ${t/1e3} seconds`)});var M;(function(t){t.DEV="DEV",t.UAT="UAT",t.PRD="PRD"})(M||(M={}));var Je;(function(t){t.GITHUB="GitHub",t.GITLAB="GitLab",t.BITBUCKET="Bitbucket",t.LOCALHOST="localhost",t.UNKNOWN="unknown"})(Je||(Je={}));var an=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function s(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?a(c.value):o(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};let tt,nt,rt,ot,at;const sn=()=>{tt=!1,nt="rmg-unknown",rt="unknown",ot=M.PRD,at=Je.UNKNOWN},Lr=()=>an(void 0,void 0,void 0,function*(){const t=window.location.pathname.split("/")[1],e=t?`/${t}/info.json`:"/info.json",n=yield fetch(e);if(n.ok){const r=yield n.json();nt=r.component,rt=r.version,ot=r.environment,at=r.instance}else throw new Error(`Failed to fetch config from ${e}`)}),Er=()=>an(void 0,void 0,void 0,function*(){try{console.log("[rmg-runtime] Loading config...");const t=yield Promise.race([Lr(),on(10*1e3)]);t?console.error("[rmg-runtime] Failed to load config.",t):(tt=!0,console.log("[rmg-runtime] Config loaded!"))}catch(t){console.error("[rmg-runtime] Failed to load config.",t)}}),jr=()=>tt,kr=()=>nt,zr=()=>rt,Ar=()=>ot,Pr=()=>at;sn();const j={loadWithTimeout:Er,isInitialised:jr,getComponent:kr,getVersion:zr,getEnvironment:Ar,getInstance:Pr,_resetConfig:sn};window.dataLayer=window.dataLayer||[];const Nr=()=>{const t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(t)};function Ye(...t){if(j.getEnvironment()!==M.DEV)return window.dataLayer.push(arguments);console.log("[rmg-runtime] Not going to send event in DEV environment",t)}const Hr=(t,e)=>{Ye("event",t,e)},$r=()=>{Nr(),Ye("js",new Date),Ye("config","G-2HP8Y4MRRQ",{appName:j.getComponent(),version:j.getVersion(),environment:j.getEnvironment(),instance:j.getInstance()})},he={init:$r,customEvent:Hr},Ir="rmg-runtime-channel",fe={};let ne;try{ne=new BroadcastChannel(Ir),ne.onmessage=t=>{var e;const{event:n,data:r,frameId:o}=t.data;(e=fe[n])===null||e===void 0||e.forEach(a=>a(r,o))}}catch(t){console.warn("[rmg-runtime] Failed to initiate broadcast channel. Some features may be unavailable.",t)}const Mr=(t,e,n)=>{var r;n&&console.log(`[rmg-runtime] Broadcasting event ${t} with data`,e),ne==null||ne.postMessage({event:t,data:e,frameId:(r=window.frameElement)===null||r===void 0?void 0:r.id})},Br=(t,e)=>{var n;t in fe?(n=fe[t])===null||n===void 0||n.push(e):fe[t]=[e]},R={postEvent:Mr,onMessage:Br},qe=()=>!window.frameElement,Fr=()=>{var t;return!!(!((t=window.frameElement)===null||t===void 0)&&t.closest(".show-menu"))},Dr=()=>{if(!qe()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const t=document.createElement("style");t.textContent=".rmg-window__header{margin-left: 40px;}",!qe()&&!Fr()&&document.head.appendChild(t),R.onMessage("TOGGLE_NAV_MENU",e=>{if(e)try{document.head.removeChild(t)}catch(n){console.warn("[rmg-runtime] Unable to remove indent style from RmgWindowHeader",n)}else document.head.appendChild(t)})},Ur=(t,e)=>{R.postEvent("OPEN_APP",{appId:t,url:e})},Vr=t=>{R.postEvent("CLOSE_APP",t)},Wr=t=>{R.postEvent("UPDATE_URL",t)},Gr=t=>{R.onMessage("OPEN_APP",t)},Kr=t=>{R.onMessage("CLOSE_APP",t)},Jr=t=>{R.onMessage("UPDATE_URL",t)},Yr=t=>{R.postEvent("TOGGLE_NAV_MENU",t,!0)},P={isStandaloneWindow:qe,injectUITools:Dr,openApp:Ur,onAppOpen:Gr,closeApp:Vr,onAppClose:Kr,updateUrl:Wr,onUrlUpdate:Jr,toggleNavMenu:Yr},ln="rmg-runtime__language",un="rmg-runtime__colourMode",de="rmg-runtime__allowAnalytics",cn=["en","zh-Hans","zh-Hant","ko"],qr=t=>{cn.includes(t)&&(R.postEvent("SET_LANGUAGE",t),window.localStorage.setItem(ln,t))},Qr=()=>{const t=window.localStorage.getItem(ln);return t&&cn.includes(t)?t:"en"},Zr=t=>{R.onMessage("SET_LANGUAGE",t)},fn=["light","dark","system"],Xr=t=>{fn.includes(t)&&(R.postEvent("SET_COLOUR_MODE",t,!0),window.localStorage.setItem(un,t))},eo=()=>{const t=window.localStorage.getItem(un);return t&&fn.includes(t)?t:"system"},to=t=>{R.onMessage("SET_COLOUR_MODE",t)},no=()=>window.localStorage.getItem(de)!==null,hn=()=>window.localStorage.getItem(de)==="true",ro=t=>{const e=hn();return t?(e||(window.localStorage.setItem(de,t.toString()),he.init()),{refreshRequired:!1}):e?(window.localStorage.setItem(de,t.toString()),{refreshRequired:!0}):{refreshRequired:!1}},k={setLanguage:qr,getLanguage:Qr,onLanguageChange:Zr,setColourMode:Xr,getColourMode:eo,onColourModeChange:to,isAnalyticsQADone:no,isAllowAnalytics:hn,allowAnalytics:ro},oo=new Date().getTime();function ao(){const t=j.getComponent(),e=window.localStorage.getItem(t+"__startTime");return e===null?new Date().getTime()-oo:new Date().getTime()-Number(e)}const io={getMsSinceStartUp:ao},dn=()=>{const t=j.getComponent();if(t==="rmg-unknown")throw new Error("[rmg-runtime] Unable to clear storage for unknown app");return t==="railmapgen.github.io"?"rmg-home":t},so=()=>{const t=dn(),e={};let n=0;for(;n<window.localStorage.length;){const r=window.localStorage.key(n);if(r!=null&&r.startsWith(t+"__")){const o=window.localStorage.getItem(r);o&&(e[r]=o)}n++}return e},lo=()=>{const t=dn();let e=0;for(;e<window.localStorage.length;){const n=window.localStorage.key(e);n!=null&&n.startsWith(t+"__")?(window.localStorage.removeItem(n),console.log(`[rmg-runtime] Removed item ${n}`)):e++}},bt={getStorageForCurrentApp:so,clearStorageForCurrentApp:lo},uo={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class ge{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||uo,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,o){return o&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ge(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ge(this.logger,e)}}var N=new ge;class Re{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.observers[e]&&[].concat(this.observers[e]).forEach(i=>{i(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(i=>{i.apply(i,[e,...r])})}}function ee(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});return n.resolve=t,n.reject=e,n}function wt(t){return t==null?"":""+t}function co(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}function it(t,e,n){function r(i){return i&&i.indexOf("###")>-1?i.replace(/###/g,"."):i}function o(){return!t||typeof t=="string"}const a=typeof e!="string"?[].concat(e):e.split(".");for(;a.length>1;){if(o())return{};const i=r(a.shift());!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={}}return o()?{}:{obj:t,k:r(a.shift())}}function xt(t,e,n){const{obj:r,k:o}=it(t,e,Object);r[o]=n}function fo(t,e,n,r){const{obj:o,k:a}=it(t,e,Object);o[a]=o[a]||[],r&&(o[a]=o[a].concat(n)),r||o[a].push(n)}function pe(t,e){const{obj:n,k:r}=it(t,e);if(n)return n[r]}function ho(t,e,n){const r=pe(t,n);return r!==void 0?r:pe(e,n)}function gn(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):gn(t[r],e[r],n):t[r]=e[r]);return t}function V(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var go={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function po(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>go[e]):t}const mo=[" ",",","?","!",";"];function yo(t,e,n){e=e||"",n=n||"";const r=mo.filter(i=>e.indexOf(i)<0&&n.indexOf(i)<0);if(r.length===0)return!0;const o=new RegExp(`(${r.map(i=>i==="?"?"\\?":i).join("|")})`);let a=!o.test(t);if(!a){const i=t.indexOf(n);i>0&&!o.test(t.substring(0,i))&&(a=!0)}return a}function me(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let o=t;for(let a=0;a<r.length;++a){if(!o||typeof o[r[a]]=="string"&&a+1<r.length)return;if(o[r[a]]===void 0){let i=2,s=r.slice(a,a+i).join(n),l=o[s];for(;l===void 0&&r.length>a+i;)i++,s=r.slice(a,a+i).join(n),l=o[s];if(l===void 0)return;if(l===null)return null;if(e.endsWith(s)){if(typeof l=="string")return l;if(s&&typeof l[s]=="string")return l[s]}const u=r.slice(a+i).join(n);return u?me(l,u,n):void 0}o=o[r[a]]}return o}function ye(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class St extends Re{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,i=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let s=[e,n];r&&typeof r!="string"&&(s=s.concat(r)),r&&typeof r=="string"&&(s=s.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(s=e.split("."));const l=pe(this.data,s);return l||!i||typeof r!="string"?l:me(this.data&&this.data[e]&&this.data[e][n],r,a)}addResource(e,n,r,o){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[e,n];r&&(s=s.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(s=e.split("."),o=n,n=s[1]),this.addNamespaces(n),xt(this.data,s,o),a.silent||this.emit("added",e,n,r,o)}addResources(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(typeof r[a]=="string"||Object.prototype.toString.apply(r[a])==="[object Array]")&&this.addResource(e,n,a,r[a],{silent:!0});o.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,o,a){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},s=[e,n];e.indexOf(".")>-1&&(s=e.split("."),o=r,r=n,n=s[1]),this.addNamespaces(n);let l=pe(this.data,s)||{};o?gn(l,r,a):l={...l,...r},xt(this.data,s,l),i.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var pn={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,o){return t.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,n,r,o))}),e}};const Ot={};class ve extends Re{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),co(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=N.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const i=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!yo(e,r,o);if(i&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:a};const u=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(o)}return typeof a=="string"&&(a=[a]),{key:e,namespaces:a}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:i,namespaces:s}=this.extractFromKey(e[e.length-1],n),l=s[s.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const x=n.nsSeparator||this.options.nsSeparator;return o?{res:`${l}${x}${i}`,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:l}:`${l}${x}${i}`}return o?{res:i,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:l}:i}const d=this.resolve(e,n);let f=d&&d.res;const p=d&&d.usedKey||i,g=d&&d.exactUsedKey||i,m=Object.prototype.toString.apply(f),b=["[object Number]","[object Function]","[object RegExp]"],S=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&f&&(typeof f!="string"&&typeof f!="boolean"&&typeof f!="number")&&b.indexOf(m)<0&&!(typeof S=="string"&&m==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,{...n,ns:s}):`key '${i} (${this.language})' returned an object instead of string.`;return o?(d.res=x,d):x}if(a){const x=m==="[object Array]",L=x?[]:{},A=x?g:p;for(const C in f)if(Object.prototype.hasOwnProperty.call(f,C)){const le=`${A}${a}${C}`;L[C]=this.translate(le,{...n,joinArrays:!1,ns:s}),L[C]===le&&(L[C]=f[C])}f=L}}else if(w&&typeof S=="string"&&m==="[object Array]")f=f.join(S),f&&(f=this.extendTranslation(f,e,n,r));else{let x=!1,L=!1;const A=n.count!==void 0&&typeof n.count!="string",C=ve.hasDefaultValue(n),le=A?this.pluralResolver.getSuffix(u,n.count,n):"",Nn=n.ordinal&&A?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",Q=n[`defaultValue${le}`]||n[`defaultValue${Nn}`]||n.defaultValue;!this.isValidLookup(f)&&C&&(x=!0,f=Q),this.isValidLookup(f)||(L=!0,f=i);const Hn=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:f,Z=C&&Q!==f&&this.options.updateMissing;if(L||x||Z){if(this.logger.log(Z?"updateKey":"missingKey",u,l,i,Z?Q:f),a){const E=this.resolve(i,{...n,keySeparator:!1});E&&E.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(let E=0;E<ue.length;E++)X.push(ue[E]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(n.lng||this.language):X.push(n.lng||this.language);const ht=(E,U,dt)=>{const gt=C&&dt!==f?dt:Hn;this.options.missingKeyHandler?this.options.missingKeyHandler(E,l,U,gt,Z,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(E,l,U,gt,Z,n),this.emit("missingKey",E,l,U,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?X.forEach(E=>{this.pluralResolver.getSuffixes(E,n).forEach(U=>{ht([E],i+U,n[`defaultValue${U}`]||Q)})}):ht(X,i,Q))}f=this.extendTranslation(f,e,n,d,r),L&&f===i&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${i}`),(L||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${i}`:i,x?f:void 0):f=this.options.parseMissingKeyHandler(f))}return o?(d.res=f,d):f}extendTranslation(e,n,r,o,a){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const f=e.match(this.interpolator.nestingRegexp);c=f&&f.length}let d=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,r.lng||this.language,r),u){const f=e.match(this.interpolator.nestingRegexp),p=f&&f.length;c<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(r.lng=o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];return a&&a[0]===p[0]&&!r.context?(i.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):i.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=typeof s=="string"?[s]:s;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=pn.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:o,...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,o,a,i,s;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;o=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=n.count!==void 0&&typeof n.count!="string",p=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",m=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(b=>{this.isValidLookup(r)||(s=b,!Ot[`${m[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(Ot[`${m[0]}-${b}`]=!0,this.logger.warn(`key "${o}" for languages "${m.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(S=>{if(this.isValidLookup(r))return;i=S;const w=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(w,c,S,b,n);else{let x;f&&(x=this.pluralResolver.getSuffix(S,n.count,n));const L=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(w.push(c+x),n.ordinal&&x.indexOf(A)===0&&w.push(c+x.replace(A,this.options.pluralSeparator)),p&&w.push(c+L)),g){const C=`${c}${this.options.contextSeparator}${n.context}`;w.push(C),f&&(w.push(C+x),n.ordinal&&x.indexOf(A)===0&&w.push(C+x.replace(A,this.options.pluralSeparator)),p&&w.push(C+L))}}let se;for(;se=w.pop();)this.isValidLookup(r)||(a=se,r=this.getResource(S,b,se,n))}))})}),{res:r,usedKey:o,exactUsedKey:a,usedLng:i,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,o):this.resourceStore.getResource(e,n,r,o)}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function De(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Ct{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=N.create("languageUtils")}getScriptPartFromCode(e){if(e=ye(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=ye(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(o=>o.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=De(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=De(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=De(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(a=>{if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&a.indexOf(o)===0)return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),o=[],a=i=>{i&&(this.isSupportedCode(i)?o.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):typeof e=="string"&&a(this.formatLanguageCode(e)),r.forEach(i=>{o.indexOf(i)<0&&a(this.formatLanguageCode(i))}),o}}let vo=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],bo={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const wo=["v1","v2","v3"],xo=["v4"],_t={zero:0,one:1,two:2,few:3,many:4,other:5};function So(){const t={};return vo.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:bo[e.fc]}})}),t}class Oo{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=N.create("pluralResolver"),(!this.options.compatibilityJSON||xo.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=So()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(ye(e),{type:n.ordinal?"ordinal":"cardinal"})}catch(r){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(o=>`${n}${o}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((o,a)=>_t[o]-_t[a]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):r.numbers.map(o=>this.getSuffix(e,o,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,r);return o?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:this.getSuffixRetroCompatible(o,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let o=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const a=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?`_plural_${o.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!wo.includes(this.options.compatibilityJSON)}}function Tt(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=ho(t,e,n);return!a&&o&&typeof n=="string"&&(a=me(t,n,r),a===void 0&&(a=me(e,n,r))),a}class Co{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=N.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:po,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?V(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?V(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?V(n.nestingPrefix):n.nestingPrefixEscaped||V("$t("),this.nestingSuffix=n.nestingSuffix?V(n.nestingSuffix):n.nestingSuffixEscaped||V(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,n,r,o){let a,i,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(g){return g.replace(/\$/g,"$$$$")}const c=g=>{if(g.indexOf(this.formatSeparator)<0){const w=Tt(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...o,...n,interpolationkey:g}):w}const m=g.split(this.formatSeparator),b=m.shift().trim(),S=m.join(this.formatSeparator).trim();return this.format(Tt(n,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...o,...n,interpolationkey:b})};this.resetRegExp();const d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,f=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>u(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?u(this.escape(g)):u(g)}].forEach(g=>{for(s=0;a=g.regex.exec(e);){const m=a[1].trim();if(i=c(m),i===void 0)if(typeof d=="function"){const S=d(e,a,o);i=typeof S=="string"?S:""}else if(o&&Object.prototype.hasOwnProperty.call(o,m))i="";else if(f){i=a[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),i="";else typeof i!="string"&&!this.useRawValueToEscape&&(i=wt(i));const b=g.safeValue(i);if(e=e.replace(a[0],b),f?(g.regex.lastIndex+=i.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a,i;function s(l,u){const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const d=l.split(new RegExp(`${c}[ ]*{`));let f=`{${d[1]}`;l=d[0],f=this.interpolate(f,i);const p=f.match(/'/g),g=f.match(/"/g);(p&&p.length%2===0&&!g||g.length%2!==0)&&(f=f.replace(/'/g,'"'));try{i=JSON.parse(f),u&&(i={...u,...i})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${c}${f}`}return delete i.defaultValue,l}for(;o=this.nestingRegexp.exec(e);){let l=[];i={...r},i=i.replace&&typeof i.replace!="string"?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let u=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const c=o[1].split(this.formatSeparator).map(d=>d.trim());o[1]=c.shift(),l=c,u=!0}if(a=n(s.call(this,o[1].trim(),i),i),a&&o[0]===e&&typeof a!="string")return a;typeof a!="string"&&(a=wt(a)),a||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),a=""),u&&(a=l.reduce((c,d)=>this.format(c,d,r.lng,{...r,interpolationkey:o[1].trim()}),a.trim())),e=e.replace(o[0],a),this.regexp.lastIndex=0}return e}}function _o(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(i=>{if(!i)return;const[s,...l]=i.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,"");n[s.trim()]||(n[s.trim()]=u),u==="false"&&(n[s.trim()]=!1),u==="true"&&(n[s.trim()]=!0),isNaN(u)||(n[s.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:n}}function W(t){const e={};return function(r,o,a){const i=o+JSON.stringify(a);let s=e[i];return s||(s=t(ye(o),a),e[i]=s),s(r)}}class To{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=N.create("formatter"),this.options=e,this.formats={number:W((n,r)=>{const o=new Intl.NumberFormat(n,{...r});return a=>o.format(a)}),currency:W((n,r)=>{const o=new Intl.NumberFormat(n,{...r,style:"currency"});return a=>o.format(a)}),datetime:W((n,r)=>{const o=new Intl.DateTimeFormat(n,{...r});return a=>o.format(a)}),relativetime:W((n,r)=>{const o=new Intl.RelativeTimeFormat(n,{...r});return a=>o.format(a,r.range||"day")}),list:W((n,r)=>{const o=new Intl.ListFormat(n,{...r});return a=>o.format(a)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=W(n)}format(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((s,l)=>{const{formatName:u,formatOptions:c}=_o(l);if(this.formats[u]){let d=s;try{const f=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},p=f.locale||f.lng||o.locale||o.lng||r;d=this.formats[u](s,p,{...c,...o,...f})}catch(f){this.logger.warn(f)}return d}else this.logger.warn(`there was no format function for ${u}`);return s},e)}}function Ro(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class Lo extends Re{constructor(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=N.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,o.backend,o)}queueLoad(e,n,r,o){const a={},i={},s={},l={};return e.forEach(u=>{let c=!0;n.forEach(d=>{const f=`${u}|${d}`;!r.reload&&this.store.hasResourceBundle(u,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?i[f]===void 0&&(i[f]=!0):(this.state[f]=1,c=!1,i[f]===void 0&&(i[f]=!0),a[f]===void 0&&(a[f]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(s[u]=!0)}),(Object.keys(a).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(a),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const o=e.split("|"),a=o[0],i=o[1];n&&this.emit("failedLoading",a,i,n),r&&this.store.addResourceBundle(a,i,r),this.state[e]=n?-1:2;const s={};this.queue.forEach(l=>{fo(l.loaded,[a],i),Ro(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const c=l.loaded[u];c.length&&c.forEach(d=>{s[u][d]===void 0&&(s[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:o,wait:a,callback:i});return}this.readingCalls++;const s=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,o+1,a*2,i)},a);return}i(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>s(null,c)).catch(s):s(null,u)}catch(u){s(u)}return}return l(e,n,s)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const a=this.queueLoad(e,n,r,o);if(!a.toLoad.length)return a.pending.length||o(),null;a.toLoad.forEach(i=>{this.loadOne(i)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),o=r[0],a=r[1];this.read(o,a,"read",void 0,void 0,(i,s)=>{i&&this.logger.warn(`${n}loading namespace ${a} for language ${o} failed`,i),!i&&s&&this.logger.log(`${n}loaded namespace ${a} for language ${o}`,s),this.loaded(e,i,s)})}saveMissing(e,n,r,o,a){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...i,isUpdate:a},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,n,r,o,l):c=u(e,n,r,o),c&&typeof c.then=="function"?c.then(d=>s(null,d)).catch(s):s(null,c)}catch(c){s(c)}else u(e,n,r,o,s,l)}!e||!e[0]||this.store.addResource(e[0],n,r,o)}}}function Rt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(o=>{n[o]=r[o]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,r)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Lt(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ce(){}function Eo(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class ie extends Re{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Lt(e),this.services={},this.logger=N,this.modules={external:[]},Eo(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const o=Rt();this.options={...o,...this.options,...Lt(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function a(c){return c?typeof c=="function"?new c:c:null}if(!this.options.isClone){this.modules.logger?N.init(a(this.modules.logger),this.options):N.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=To);const d=new Ct(this.options);this.store=new St(this.options.resources,this.options);const f=this.services;f.logger=N,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new Oo(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(f.formatter=a(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Co(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Lo(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var g=arguments.length,m=new Array(g>1?g-1:0),b=1;b<g;b++)m[b-1]=arguments[b];e.emit(p,...m)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new ve(this.services,this.options),this.translator.on("*",function(p){for(var g=arguments.length,m=new Array(g>1?g-1:0),b=1;b<g;b++)m[b-1]=arguments[b];e.emit(p,...m)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=ce),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=ee(),u=()=>{const c=(d,f)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ce;const o=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode")return r();const a=[],i=s=>{if(!s)return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{a.indexOf(u)<0&&a.push(u)})};o?i(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>i(l)),this.options.preload&&this.options.preload.forEach(s=>i(s)),this.services.backendConnector.load(a,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(e,n,r){const o=ee();return e||(e=this.languages),n||(n=this.options.ns),r||(r=ce),this.services.backendConnector.reload(e,n,a=>{o.resolve(),r(a)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&pn.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const o=ee();this.emit("languageChanging",e);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,u)=>{u?(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,o.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{i(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),o}getFixedT(e,n,r){var o=this;const a=function(i,s){let l;if(typeof s!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),d=2;d<u;d++)c[d-2]=arguments[d];l=o.options.overloadTranslationOptionHandler([i,s].concat(c))}else l={...s};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix=l.keyPrefix||r||a.keyPrefix;const f=o.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(i)?p=i.map(g=>`${l.keyPrefix}${f}${g}`):p=l.keyPrefix?`${l.keyPrefix}${f}${i}`:i,o.t(p,l)};return typeof e=="string"?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=r,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const i=(s,l)=>{const u=this.services.backendConnector.state[`${s}|${l}`];return u===-1||u===2};if(n.precheck){const s=n.precheck(this,i);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(r,e)&&(!o||i(a,e)))}loadNamespaces(e,n){const r=ee();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=ee();typeof e=="string"&&(e=[e]);const o=this.options.preload||[],a=e.filter(i=>o.indexOf(i)<0);return a.length?(this.options.preload=o.concat(a),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Ct(Rt());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new ie(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ce;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},a=new ie(o);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r&&(a.store=new St(this.store.data,o),a.services.resourceStore=a.store),a.translator=new ve(a.services,o),a.translator.on("*",function(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];a.emit(s,...u)}),a.init(o,n),a.translator.options=o,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const O=ie.createInstance();O.createInstance=ie.createInstance;O.createInstance;O.dir;O.init;O.loadResources;O.reloadResources;O.use;O.changeLanguage;O.getFixedT;O.t;O.exists;O.setDefaultNamespace;O.hasLoadedNamespace;O.loadNamespaces;O.loadLanguages;let G;const jo=()=>G,ko=t=>{k.onLanguageChange(e=>t.changeLanguage(e))};class zo{constructor(){this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}use(e){return O.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach(([n,r])=>{this._defaultResources[n]=r}),this}withResource(e,n){return this._resources[e]=n,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach(([n,r])=>{e[n]={translation:r}}),Object.entries(this._resources).forEach(([n,r])=>{n in e?e[n].translation=Object.assign(Object.assign({},e[n].translation),r):e[n]={translation:r}}),e}build(){return G=O.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},(e,n)=>{var r;if(e){console.error("[rmg-runtime] unexpected error occurs while initialising i18n",e);return}document.title=n(this._appName),document.documentElement.lang=(r=this._lng)!==null&&r!==void 0?r:"en"}),G.on("languageChanged",e=>{document.title=G.t(this._appName),document.documentElement.lang=e}),ko(G),G}}var mn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function s(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?a(c.value):o(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};let yn=!1;const Ao=()=>mn(void 0,void 0,void 0,function*(){yield j.loadWithTimeout(),k.isAnalyticsQADone()?k.isAllowAnalytics()&&(console.log("[rmg-runtime] User has previously allowed GA"),he.init()):P.isStandaloneWindow()&&j.getComponent()!=="rmg-home"&&(console.warn("[rmg-runtime] App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),he.init()),yn=!0}),Po=()=>mn(void 0,void 0,void 0,function*(){let t=0;for(;t<=10&&!yn;)yield on(1e3),t+=1}),_={ready:Po,getAppName:j.getComponent,getAppVersion:j.getVersion,getEnv:j.getEnvironment,getInstance:j.getInstance,event:he.customEvent,isStandaloneWindow:P.isStandaloneWindow,injectUITools:P.injectUITools,openApp:P.openApp,onAppOpen:P.onAppOpen,closeApp:P.closeApp,onAppClose:P.onAppClose,updateUrl:P.updateUrl,onUrlUpdate:P.onUrlUpdate,toggleNavMenu:P.toggleNavMenu,postEvent:R.postEvent,onMessage:R.onMessage,setLanguage:k.setLanguage,getLanguage:k.getLanguage,onLanguageChange:k.onLanguageChange,setColourMode:k.setColourMode,getColourMode:k.getColourMode,onColourModeChange:k.onColourModeChange,isAnalyticsQADone:k.isAnalyticsQADone,isAllowAnalytics:k.isAllowAnalytics,allowAnalytics:k.allowAnalytics,getStorageForCurrentApp:bt.getStorageForCurrentApp,clearStorageForCurrentApp:bt.clearStorageForCurrentApp,getMsSinceStartUp:io.getMsSinceStartUp,I18nBuilder:zo,getI18nInstance:jo};Ao().then();window.rmgRuntime=_;var vn={exports:{}},bn={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y=y;function No(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ho=typeof Object.is=="function"?Object.is:No,$o=Y.useState,Io=Y.useEffect,Mo=Y.useLayoutEffect,Bo=Y.useDebugValue;function Fo(t,e){var n=e(),r=$o({inst:{value:n,getSnapshot:e}}),o=r[0].inst,a=r[1];return Mo(function(){o.value=n,o.getSnapshot=e,Ue(o)&&a({inst:o})},[t,n,e]),Io(function(){return Ue(o)&&a({inst:o}),t(function(){Ue(o)&&a({inst:o})})},[t]),Bo(n),n}function Ue(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ho(t,n)}catch(r){return!0}}function Do(t,e){return e()}var Uo=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Do:Fo;bn.useSyncExternalStore=Y.useSyncExternalStore!==void 0?Y.useSyncExternalStore:Uo;vn.exports=bn;var Vo=vn.exports,wn={exports:{}},xn={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Le=y,Wo=Vo;function Go(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ko=typeof Object.is=="function"?Object.is:Go,Jo=Wo.useSyncExternalStore,Yo=Le.useRef,qo=Le.useEffect,Qo=Le.useMemo,Zo=Le.useDebugValue;xn.useSyncExternalStoreWithSelector=function(t,e,n,r,o){var a=Yo(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=Qo(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),o!==void 0&&i.hasValue){var g=i.value;if(o(g,p))return d=g}return d=p}if(g=d,Ko(c,p))return g;var m=r(p);return o!==void 0&&o(g,m)?g:(c=p,d=m)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,o]);var s=Jo(t,a[0],a[1]);return qo(function(){i.hasValue=!0,i.value=s},[s]),Zo(s),s};wn.exports=xn;var Xo=wn.exports;function ea(t){t()}let Sn=ea;const ta=t=>Sn=t,na=()=>Sn,Et=Symbol.for(`react-redux-context-${y.version}`),jt=globalThis;function ra(){let t=jt[Et];return t||(t=y.createContext(null),jt[Et]=t),t}const B=new Proxy({},new Proxy({},{get(t,e){const n=ra();return(r,...o)=>Reflect[e](n,...o)}}));function st(t=B){return function(){return y.useContext(t)}}const On=st(),oa=()=>{throw new Error("uSES not initialized!")};let Cn=oa;const aa=t=>{Cn=t},ia=(t,e)=>t===e;function sa(t=B){const e=t===B?On:st(t);return function(r,o={}){const{equalityFn:a=ia,stabilityCheck:i=void 0,noopCheck:s=void 0}=typeof o=="function"?{equalityFn:o}:o,{store:l,subscription:u,getServerState:c,stabilityCheck:d,noopCheck:f}=e();y.useRef(!0);const p=y.useCallback({[r.name](m){return r(m)}}[r.name],[r,d,i]),g=Cn(u.addNestedSub,l.getState,c||l.getState,p,a);return y.useDebugValue(g),g}}const la=sa();var v={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt=Symbol.for("react.element"),ut=Symbol.for("react.portal"),Ee=Symbol.for("react.fragment"),je=Symbol.for("react.strict_mode"),ke=Symbol.for("react.profiler"),ze=Symbol.for("react.provider"),Ae=Symbol.for("react.context"),ua=Symbol.for("react.server_context"),Pe=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),ca=Symbol.for("react.offscreen"),_n;_n=Symbol.for("react.module.reference");function z(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lt:switch(t=t.type,t){case Ee:case ke:case je:case Ne:case He:return t;default:switch(t=t&&t.$$typeof,t){case ua:case Ae:case Pe:case Ie:case $e:case ze:return t;default:return e}}case ut:return e}}}v.ContextConsumer=Ae;v.ContextProvider=ze;v.Element=lt;v.ForwardRef=Pe;v.Fragment=Ee;v.Lazy=Ie;v.Memo=$e;v.Portal=ut;v.Profiler=ke;v.StrictMode=je;v.Suspense=Ne;v.SuspenseList=He;v.isAsyncMode=function(){return!1};v.isConcurrentMode=function(){return!1};v.isContextConsumer=function(t){return z(t)===Ae};v.isContextProvider=function(t){return z(t)===ze};v.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lt};v.isForwardRef=function(t){return z(t)===Pe};v.isFragment=function(t){return z(t)===Ee};v.isLazy=function(t){return z(t)===Ie};v.isMemo=function(t){return z(t)===$e};v.isPortal=function(t){return z(t)===ut};v.isProfiler=function(t){return z(t)===ke};v.isStrictMode=function(t){return z(t)===je};v.isSuspense=function(t){return z(t)===Ne};v.isSuspenseList=function(t){return z(t)===He};v.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ee||t===ke||t===je||t===Ne||t===He||t===ca||typeof t=="object"&&t!==null&&(t.$$typeof===Ie||t.$$typeof===$e||t.$$typeof===ze||t.$$typeof===Ae||t.$$typeof===Pe||t.$$typeof===_n||t.getModuleId!==void 0)};v.typeOf=z;function fa(){const t=na();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],o=e;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0,a=n={callback:r,next:null,prev:n};return a.prev?a.prev.next=a:e=a,function(){!o||e===null||(o=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const kt={notify(){},get:()=>[]};function ha(t,e){let n,r=kt;function o(d){return l(),r.subscribe(d)}function a(){r.notify()}function i(){c.onStateChange&&c.onStateChange()}function s(){return!!n}function l(){n||(n=e?e.addNestedSub(i):t.subscribe(i),r=fa())}function u(){n&&(n(),n=void 0,r.clear(),r=kt)}const c={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:i,isSubscribed:s,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const da=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ga=da?y.useLayoutEffect:y.useEffect;function pa({store:t,context:e,children:n,serverState:r,stabilityCheck:o="once",noopCheck:a="once"}){const i=y.useMemo(()=>{const u=ha(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:o,noopCheck:a}},[t,r,o,a]),s=y.useMemo(()=>t.getState(),[t]);ga(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const l=e||B;return tn.createElement(l.Provider,{value:i},n)}function Tn(t=B){const e=t===B?On:st(t);return function(){const{store:r}=e();return r}}const ma=Tn();function ya(t=B){const e=t===B?ma:Tn(t);return function(){return e().dispatch}}const va=ya();aa(Xo.useSyncExternalStoreWithSelector);ta(nn.unstable_batchedUpdates);const ba="modulepreload",wa=function(t){return"/rmg-templates/"+t},zt={},ct=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=wa(a),a in zt)return;zt[a]=!0;const i=a.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(!!r)for(let c=o.length-1;c>=0;c--){const d=o[c];if(d.href===a&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":ba,i||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),i)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a})};var Rn=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(o,a){return o[0]===n?(r=a,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),o=this.__entries__[r];return o&&o[1]},e.prototype.set=function(n,r){var o=t(this.__entries__,n);~o?this.__entries__[o][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,o=t(r,n);~o&&r.splice(o,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var o=0,a=this.__entries__;o<a.length;o++){var i=a[o];n.call(r,i[1],i[0])}},e}()}(),Qe=typeof window<"u"&&typeof document<"u"&&window.document===document,be=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),xa=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(be):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Sa=2;function Oa(t,e){var n=!1,r=!1,o=0;function a(){n&&(n=!1,t()),r&&s()}function i(){xa(a)}function s(){var l=Date.now();if(n){if(l-o<Sa)return;r=!0}else n=!0,r=!1,setTimeout(i,e);o=l}return s}var Ca=20,_a=["top","right","bottom","left","width","height","size","weight"],Ta=typeof MutationObserver<"u",Ra=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Oa(this.refresh.bind(this),Ca)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Qe||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ta?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Qe||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,o=_a.some(function(a){return!!~r.indexOf(a)});o&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Ln=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},q=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||be},En=Me(0,0,0,0);function we(t){return parseFloat(t)||0}function At(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,o){var a=t["border-"+o+"-width"];return r+we(a)},0)}function La(t){for(var e=["top","right","bottom","left"],n={},r=0,o=e;r<o.length;r++){var a=o[r],i=t["padding-"+a];n[a]=we(i)}return n}function Ea(t){var e=t.getBBox();return Me(0,0,e.width,e.height)}function ja(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return En;var r=q(t).getComputedStyle(t),o=La(r),a=o.left+o.right,i=o.top+o.bottom,s=we(r.width),l=we(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+a)!==e&&(s-=At(r,"left","right")+a),Math.round(l+i)!==n&&(l-=At(r,"top","bottom")+i)),!za(t)){var u=Math.round(s+a)-e,c=Math.round(l+i)-n;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return Me(o.left,o.top,s,l)}var ka=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof q(t).SVGGraphicsElement}:function(t){return t instanceof q(t).SVGElement&&typeof t.getBBox=="function"}}();function za(t){return t===q(t).document.documentElement}function Aa(t){return Qe?ka(t)?Ea(t):ja(t):En}function Pa(t){var e=t.x,n=t.y,r=t.width,o=t.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,i=Object.create(a.prototype);return Ln(i,{x:e,y:n,width:r,height:o,top:n,right:e+r,bottom:o+n,left:e}),i}function Me(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Na=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Me(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Aa(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Ha=function(){function t(e,n){var r=Pa(n);Ln(this,{target:e,contentRect:r})}return t}(),$a=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new Rn,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof q(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Na(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof q(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Ha(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),jn=typeof WeakMap<"u"?new WeakMap:new Rn,kn=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ra.getInstance(),r=new $a(e,n,this);jn.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){kn.prototype[t]=function(){var e;return(e=jn.get(this))[t].apply(e,arguments)}});var Ia=function(){return typeof be.ResizeObserver<"u"?be.ResizeObserver:kn}();window.ResizeObserver||(window.ResizeObserver=Ia);var Pt=globalThis&&globalThis.__assign||function(){return Pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Pt.apply(this,arguments)},re=globalThis&&globalThis.__assign||function(){return re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},re.apply(this,arguments)},Ma=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},pu=function(t){var e=t.isOpen,n=t.onClose,r=t.children,o=t.sx,a=t.size,i=Ma(t,["isOpen","onClose","children","sx","size"]),s=H("RmgAppClip",{size:a}),l=y.useRef(null);return $n({ref:l,handler:n}),h.jsx(In,{children:h.jsxs(pt,re({className:e?"show-app-clip":"",sx:s},i,{children:[h.jsx("div",{className:"rmg-app-clip__overlay"}),h.jsx("div",re({className:"rmg-app-clip__container"},{children:h.jsx(pt,re({ref:l,as:"section",role:"dialog",className:"rmg-app-clip__content",sx:o},{children:r}))}))]}))})},xe=globalThis&&globalThis.__assign||function(){return xe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},xe.apply(this,arguments)},Ba=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Fa=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},Da=function(t,e){var n=t.validator,r=t.onDebouncedChange,o=t.delay,a=t.optionList,i=t.defaultValue;t.onChange;var s=Ba(t,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),l=y.useRef(null),u=Xt(l,e),c=y.useRef("datalist-"+new Date().valueOf()),d=Fa(y.useState(!1),2),f=d[0],p=d[1],g=y.useRef();y.useEffect(function(){l.current&&(l.current.value=(i==null?void 0:i.toString())||"")},[i]);var m=function(S){var w=S.target.value;window.clearTimeout(g.current),n&&p(!n(w)),g.current=window.setTimeout(function(){r==null||r(w),g.current=void 0},o!=null?o:500)},b=function(S){var w=S.target.value;g.current!==void 0&&(window.clearTimeout(g.current),n&&p(!n(w)),r==null||r(w),g.current=void 0)};return h.jsxs(h.Fragment,{children:[h.jsx(Mn,xe({ref:u,list:c.current,variant:"flushed",size:"sm",h:6,onChange:m,onBlur:b,isInvalid:f},s)),a&&h.jsx("datalist",xe({id:c.current},{children:a==null?void 0:a.map(function(S,w){return h.jsx("option",{children:S},w)})}))]})},Ua=y.forwardRef(Da),Nt=globalThis&&globalThis.__assign||function(){return Nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Nt.apply(this,arguments)};globalThis&&globalThis.__read;var Ht=globalThis&&globalThis.__assign||function(){return Ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ht.apply(this,arguments)};globalThis&&globalThis.__read;globalThis&&globalThis.__spreadArray;var oe=globalThis&&globalThis.__assign||function(){return oe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},oe.apply(this,arguments)},Va=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},mu=function(t){var e=t.children,n=t.sx,r=Va(t,["children","sx"]),o=H("RmgCard");return h.jsx(F,oe({sx:oe(oe({},o),n)},r,{children:e}))},$t=globalThis&&globalThis.__assign||function(){return $t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$t.apply(this,arguments)},Ze=globalThis&&globalThis.__assign||function(){return Ze=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ze.apply(this,arguments)},Wa=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Ga=function(t,e){var n=t.onDebouncedChange,r=t.defaultValue;t.onChange;var o=Wa(t,["onDebouncedChange","defaultValue","onChange"]),a=y.useRef(null),i=Xt(a,e),s=y.useRef();y.useEffect(function(){a.current&&(a.current.value=(r==null?void 0:r.toString())||"")},[r]);var l=function(u){var c=u.target.value;window.clearTimeout(s.current),s.current=window.setTimeout(function(){n==null||n(c)},500)};return h.jsx(Bn,Ze({ref:i,variant:"flushed",size:"sm",resize:"none",onChange:l},o))},Ka=y.forwardRef(Ga),It=globalThis&&globalThis.__assign||function(){return It=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},It.apply(this,arguments)};globalThis&&globalThis.__rest;var Se=globalThis&&globalThis.__assign||function(){return Se=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Se.apply(this,arguments)},Ja=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},Ya=function(t){switch(t){case M.DEV:return"red";case M.UAT:return"orange";case M.PRD:return"green"}};function qa(t){var e=t.environment,n=t.version,r=t.popoverHeader,o=t.popoverBody,a=Ja(y.useState(!1),2),i=a[0],s=a[1];return h.jsxs(Fn,Se({isOpen:i,onOpen:function(){return r&&s(!0)},onClose:function(){return s(!1)}},{children:[h.jsx(Dn,{children:h.jsx(Un,Se({ml:1,colorScheme:Ya(e),title:"".concat(e,": ").concat(n),cursor:r?"pointer":"help"},{children:e===M.PRD?n:e}))}),h.jsxs(Vn,{children:[h.jsx(Wn,{}),h.jsx(Gn,{}),h.jsx(Kn,{children:r}),h.jsx(Jn,{children:o})]})]}))}var Qa=function(t,e,n){var r=new Blob([n],{type:e});Za(t,r)},Za=function(t,e){var n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},K=globalThis&&globalThis.__assign||function(){return K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},K.apply(this,arguments)},Xa=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a};function ei(t){var e=t.cancelRef,n=t.isOpen,r=t.onClose,o=Xa(y.useState(!1),2),a=o[0],i=o[1],s=function(){i(!0);var l=_.getStorageForCurrentApp(),u=_.getAppName(),c="".concat(u,"_BACKUP_").concat(new Date().toISOString(),".json");Qa(c,"application/json",JSON.stringify(l)),_.clearStorageForCurrentApp(),setTimeout(function(){window.location.reload()},2e3)};return h.jsxs(Yn,K({leastDestructiveRef:e,isOpen:n,onClose:r},{children:[h.jsx(qn,{}),h.jsxs(Qn,{children:[h.jsx(Zn,{children:"Warning 警告"}),h.jsx(Xn,{}),h.jsxs(er,K({sx:{"& p":{my:1}}},{children:[h.jsx(D,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),h.jsx(D,{children:"確定重設該應用程式嗎？應用程式的網頁本地儲存將會被清除。本地儲存的副本可供下載及用於復原（因應用程式而異）。"}),h.jsx(D,{children:"确定重置本应用程序吗？应用程序的网页本地存储将会被清除。本地存储的拷贝可供下载以及用于还原（因应用程序而異）。"})]})),h.jsxs(tr,{children:[h.jsx(mt,K({ref:e,onClick:r},{children:"Cancel"})),h.jsx(mt,K({isLoading:a,colorScheme:"red",ml:3,onClick:s},{children:"Confirm and reload"}))]})]})]}))}var I=globalThis&&globalThis.__assign||function(){return I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},I.apply(this,arguments)},ti=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},ni=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a};function ri(t){var e=t.error,n=t.errorInfo,r=t.allowReset,o=t.sx,a=ti(t,["error","errorInfo","allowReset","sx"]),i=H("RmgErrorBoundary"),s=en("primary.500","primary.300"),l=ni(y.useState(!1),2),u=l[0],c=l[1],d=y.useRef(null),f=function(m){return h.jsx(yt,I({color:s,role:"button",onClick:function(){return c(!0)}},{children:m}))},p=_.getAppName(),g=h.jsx(yt,I({color:s,href:"https://github.com/railmapgen/".concat(p,"/issues"),isExternal:!0},{children:"GitHub Issue"}));return h.jsxs(nr,I({status:"error",sx:I(I({},i),o)},a,{children:[h.jsx(rr,{}),h.jsx(or,{children:"Something went wrong!"}),h.jsxs(ar,{children:[h.jsxs(D,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",r?h.jsxs(h.Fragment,{children:[" or ",f("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",g," with the details shown below."]}),h.jsxs(D,{children:["請嘗試重新整理或重新上載設定檔。如果問題仍然存在，請考慮更新你的瀏覽器",r?h.jsxs(h.Fragment,{children:["或",f("重設該應用程式")]}):"","。如需協助或與我們聯絡，請前往 ",g," 提交一個 Issue 並附以詳細資料。"]}),h.jsxs(D,{children:["请尝试刷新或者重新上传配置文件。如果问题仍然存在，请考虑更新您的浏览器",r?h.jsxs(h.Fragment,{children:["或者",f("重置本应用程序")]}):"","。如需帮助或者联系我们，请前往 ",g," 提交一个 Issue 并附上详细信息。"]}),h.jsxs(D,I({as:"details"},{children:[e==null?void 0:e.toString(),h.jsx("br",{}),n==null?void 0:n.componentStack]})),r&&h.jsx(ei,{cancelRef:d,isOpen:u,onClose:function(){return c(!1)}})]})]}))}var oi=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oe=globalThis&&globalThis.__assign||function(){return Oe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Oe.apply(this,arguments)},ai=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Ve=function(t){oi(e,t);function e(n){var r=t.call(this,n)||this;return r.state={hasError:!1,error:null,errorInfo:null},r}return e.getDerivedStateFromError=function(){return{hasError:!0}},e.prototype.componentDidCatch=function(n,r){this.setState({error:n,errorInfo:r})},e.prototype.render=function(){var n=this.props,r=n.children,o=n.suspenseFallback,a=n.allowReset,i=ai(n,["children","suspenseFallback","allowReset"]);return this.state.hasError?h.jsx(ri,Oe({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:a},i)):o?h.jsx(y.Suspense,Oe({fallback:o},{children:r})):r},e}(tn.Component),Ce=globalThis&&globalThis.__assign||function(){return Ce=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ce.apply(this,arguments)},ii=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},si=function(t){var e=t.label,n=t.children;t.width;var r=t.noLabel,o=t.oneLine,a=t.className,i=ii(t,["label","children","width","noLabel","oneLine","className"]),s=H("RmgLabel");return h.jsxs(ir,Ce({className:"".concat(o?"rmg-label__one-line":""," ").concat(a!=null?a:""),"aria-label":e,sx:s},i,{children:[!r&&h.jsx(sr,Ce({size:"xs"},{children:e})),n]}))},ae=globalThis&&globalThis.__assign||function(){return ae=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ae.apply(this,arguments)},li=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Mt=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a};function ui(t){var e=t.defaultValue,n=t.options,r=t.disabledOptions,o=li(t,["defaultValue","options","disabledOptions"]),a=y.useRef(null);y.useEffect(function(){a.current&&(a.current.value=(e==null?void 0:e.toString())||"")},[e]);var i=function(s,l){return h.jsx("option",ae({value:s,disabled:(r==null?void 0:r.find(function(u){return u.toString()===s}))!==void 0},{children:l}),s)};return h.jsx(lr,ae({ref:a,variant:"flushed",size:"sm",h:6},o,{children:Object.entries(n).map(function(s){var l=Mt(s,2),u=l[0],c=l[1];return typeof c=="object"?h.jsx("optgroup",ae({label:u},{children:Object.entries(c).map(function(d){var f=Mt(d,2),p=f[0],g=f[1];return i(p,g)})}),u):i(u,c)})}))}globalThis&&globalThis.__read;globalThis&&globalThis.__read;var We=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},Bt=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},ci=function(t,e){e===void 0&&(e=500);var n=We(y.useState(!0),2),r=n[0],o=n[1],a=y.useRef([]),i=y.useRef(),s=y.useCallback(function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];if(!r){a.current=l;return}o(!1),a.current=[],t.apply(void 0,Bt([],We(l),!1))},[r,t]);return y.useEffect(function(){if(!r)return i.current=window.setTimeout(function(){o(!0),a.current.length&&t.apply(void 0,Bt([],We(a.current),!1))},e),function(){window.clearTimeout(i.current)}},[r,e]),s},_e=globalThis&&globalThis.__assign||function(){return _e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},_e.apply(this,arguments)},fi=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a};function hi(t){var e=t.defaultValue,n=t.min,r=t.max,o=t.step,a=t.onThrottledChange,i=t.leftIcon,s=t.rightIcon,l=H("RmgThrottledSlider"),u=fi(y.useState(e!=null?e:0),2),c=u[0],d=u[1],f=ci(a!=null?a:function(){},500),p=function(){var m=Math.min(c+(o!=null?o:1)*10,r!=null?r:100);a==null||a(m),d(m)},g=function(){var m=Math.max(c-(o!=null?o:1)*10,n!=null?n:0);a==null||a(m),d(m)};return h.jsxs(F,_e({sx:l},{children:[i&&h.jsx(vt,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:i,onClick:g}),h.jsxs(ur,_e({value:c,min:n,max:r,step:o,onChange:function(m){f(m),d(m)}},{children:[h.jsx(cr,{children:h.jsx(fr,{})}),h.jsx(hr,{})]})),s&&h.jsx(vt,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:s,onClick:p})]}))}var Te=globalThis&&globalThis.__assign||function(){return Te=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Te.apply(this,arguments)};function yu(t){var e=t.fields,n=t.noLabel,r=t.minW;return h.jsx(F,Te({wrap:"wrap"},{children:e.map(function(o,a){if(o.hidden)return h.jsx(y.Fragment,{},a);var i=o.minW||r,s=i==="full";return h.jsx(si,Te({className:s?"mw-full":"",label:o.label,flex:s?void 0:1,minW:s?void 0:i,noLabel:n,oneLine:o.oneLine},{children:function(l){switch(l.type){case"input":return h.jsx(Ua,{placeholder:l.placeholder,defaultValue:l.value,type:l.variant,validator:l.validator,onDebouncedChange:l.onChange,delay:l.debouncedDelay,optionList:l.optionList});case"textarea":return h.jsx(Ka,{placeholder:l.placeholder,defaultValue:l.value,onDebouncedChange:l.onChange});case"slider":return h.jsx(hi,{defaultValue:l.value,min:l.min,max:l.max,step:l.step,onThrottledChange:l.onChange,leftIcon:l.leftIcon,rightIcon:l.rightIcon});case"select":return h.jsx(ui,{defaultValue:l.value,onChange:function(u){var c,d=u.target.value;return(c=l.onChange)===null||c===void 0?void 0:c.call(l,typeof l.value=="number"?Number(d):d.toString())},options:l.options,disabledOptions:l.disabledOptions,isInvalid:l.isInvalid});case"switch":return h.jsx(dr,{isChecked:l.isChecked,isDisabled:l.isDisabled,onChange:function(u){var c,d=u.target.checked;return(c=l.onChange)===null||c===void 0?void 0:c.call(l,d)}});case"custom":return l.component;default:return h.jsx("div",{})}}(o)}),a)})}))}var T=globalThis&&globalThis.__assign||function(){return T=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},T.apply(this,arguments)},Be=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},di=function(t){var e=t.sx,n=t.className,r=Be(t,["sx","className"]),o=H("RmgWindow");return h.jsx(F,T({className:"rmg-window ".concat(n!=null?n:""),sx:T(T({},o),e)},r))},gi=function(t){var e=t.sx,n=t.className,r=Be(t,["sx","className"]),o=H("RmgWindowHeader");return h.jsx(F,T({className:"rmg-window__header ".concat(n!=null?n:""),sx:T(T({},o),e)},r))},vu=function(t){var e=t.sx,n=t.className,r=Be(t,["sx","className"]),o=H("RmgPage");return h.jsx(F,T({className:"rmg-page ".concat(n!=null?n:""),sx:T(T({},o),e)},r))},bu=function(t){var e=t.sx,n=t.className,r=Be(t,["sx","className"]),o=H("RmgPageHeader");return h.jsx(F,T({className:"rmg-page__header ".concat(n!=null?n:""),sx:T(T({},o),e)},r))},Ft=globalThis&&globalThis.__assign||function(){return Ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ft.apply(this,arguments)};globalThis&&globalThis.__rest;var J=globalThis&&globalThis.__assign||function(){return J=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},J.apply(this,arguments)},pi=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Ge=function(t){var e=t.isIndeterminate,n=t.value,r=t.sx,o=pi(t,["isIndeterminate","value","sx"]),a=en("primary.500","primary.300"),i=H("RmgLoader");return h.jsxs(F,J({sx:J(J({},i),r)},{children:[h.jsx("div",{className:"rmg-loader__backdrop"}),h.jsx(gr,J({isIndeterminate:e,value:n,color:a},o))]}))},Dt=globalThis&&globalThis.__assign||function(){return Dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Dt.apply(this,arguments)};globalThis&&globalThis.__read;globalThis&&globalThis.__spreadArray;var Ut=globalThis&&globalThis.__assign||function(){return Ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ut.apply(this,arguments)};globalThis&&globalThis.__rest;var Vt=function(t){return t==="dark"?"primary.300":"primary.500"},Ke={variants:{flushed:function(t){var e=t.theme,n=t.colorMode;return{field:{_focusVisible:{borderColor:Vt(n),boxShadow:"0px 1px 0px 0px ".concat(te(e,Vt(n)))}}}}}},mi={defaultProps:{colorScheme:"primary"}},Wt={defaultProps:{colorScheme:"primary"}},yi={baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},vi={baseStyle:function(t){var e=t.colorMode;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:1400,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1400},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:e==="light"?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},bi={baseStyle:function(t){var e=t.colorMode;return{p:1,my:1,w:"100%",borderRadius:2,bg:e==="dark"?"gray.700":"gray.50",boxShadow:"lg"}}},wi={baseStyle:function(t){var e=t.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:e==="dark"?"whiteAlpha.400":"blackAlpha.200",backgroundColor:e==="dark"?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},xi={baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},Si={baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},Oi={baseStyle:{m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{display:"flex",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},Ci={baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},_i={baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},$=function(t){return t==="dark"?"primary.300":"primary.500"},Ti={baseStyle:function(t){var e=t.theme,n=t.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:$(n),boxShadow:"0px 1px 0px 0px ".concat(te(e,$(n)))},_focus:{borderColor:$(n),boxShadow:"0px 1px 0px 0px ".concat(te(e,$(n)))},_focusVisible:{borderColor:$(n),boxShadow:"0px 1px 0px 0px ".concat(te(e,$(n)))},"&.active":{borderColor:$(n),boxShadow:"0px 1px 0px 0px ".concat(te(e,$(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:n==="dark"?"whiteAlpha.200":"gray.100"},_active:{bg:n==="dark"?"whiteAlpha.300":"gray.200"}}}}}},Ri={baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden"}},Li={baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},Ei={baseStyle:function(t){var e=t.colorMode,n=t.width,r=t.alwaysOverlay;return{height:"100%",position:r?"absolute":{base:"absolute",lg:"relative"},right:r?0:{base:0,lg:"unset"},background:e==="light"?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},ji={baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},ki={baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden"}},zi={baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}},Ai={Input:Ke,Checkbox:Wt,Select:Ke,Slider:mi,Switch:Wt,Textarea:Ke,RmgAgGrid:yi,RmgAppClip:vi,RmgCard:bi,RmgDataTable:wi,RmgEnrichedButton:xi,RmgErrorBoundary:Si,RmgLabel:Oi,RmgLineBadge:Ci,RmgLoader:_i,RmgMultiSelect:Ti,RmgPage:Ri,RmgPageHeader:Li,RmgSidePanel:Ei,RmgThrottledSlider:ji,RmgWindow:ki,RmgWindowHeader:zi},Xe=globalThis&&globalThis.__assign||function(){return Xe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Xe.apply(this,arguments)},Gt="chakra-ui-color-mode",Pi=function(){var t=_.getColourMode()==="system";return _.isStandaloneWindow()&&(t?window.localStorage.removeItem(Gt):window.localStorage.setItem(Gt,_.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}},Ni={primary:Xe({},pr.colors.teal)},Hi={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},$i=function(){return mr({config:Pi(),colors:Ni,styles:Hi,components:Ai})},et=globalThis&&globalThis.__assign||function(){return et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},et.apply(this,arguments)},Ii=function(t){var e=t.children;return h.jsx(yr,et({theme:$i()},{children:h.jsx(Mi,{children:e})}))},Mi=function(t){var e=t.children,n=vr().setColorMode,r=br();return y.useEffect(function(){console.log("[rmg-components] RMG theme is initialised with",r.config),_.onColourModeChange(function(o){if(o==="system"){var a=window.matchMedia("(prefers-color-scheme: dark)").matches;n(a?"dark":"light")}else n(o)})},[n]),h.jsx(h.Fragment,{children:e})};function Bi(){const{t}=xr(),e=_.getEnv(),n=_.getAppVersion();return h.jsxs(gi,{children:[h.jsx(wr,{as:"h4",size:"md",children:t("RMG Templates")}),h.jsx(qa,{environment:e,version:n})]})}const Fi=y.lazy(()=>ct(()=>import("./templates-view-8afa376b.js"),["assets/templates-view-8afa376b.js","assets/chakra-4d1cedbe.js","assets/react-d5c86316.js","assets/templates-grid-fc86d2ba.js","assets/use-templates-ce2cbd78.js"])),Di=y.lazy(()=>ct(()=>import("./app-clip-view-25f035d6.js"),["assets/app-clip-view-25f035d6.js","assets/chakra-4d1cedbe.js","assets/react-d5c86316.js","assets/templates-grid-fc86d2ba.js","assets/use-templates-ce2cbd78.js"])),Ui=y.lazy(()=>ct(()=>import("./ticket-view-81ab36c6.js"),["assets/ticket-view-81ab36c6.js","assets/chakra-4d1cedbe.js","assets/react-d5c86316.js","assets/use-templates-ce2cbd78.js"]));function Vi(){return h.jsx(Sr,{children:h.jsx(Ii,{children:h.jsxs(di,{children:[h.jsx(Bi,{}),h.jsxs(Or,{children:[h.jsx(Fe,{path:"/new",element:h.jsx(Ve,{suspenseFallback:h.jsx(Ge,{isIndeterminate:!0}),children:h.jsx(Ui,{})})}),h.jsx(Fe,{path:"/import",element:h.jsx(Ve,{suspenseFallback:h.jsx(Ge,{isIndeterminate:!0}),children:h.jsx(Di,{})})}),h.jsx(Fe,{path:"/",element:h.jsx(Ve,{suspenseFallback:h.jsx(Ge,{isIndeterminate:!0}),children:h.jsx(Fi,{})})})]})]})})})}const Wi=[{id:"basic",name:{en:"Basic",ko:"기본","zh-Hans":"基本","zh-Hant":"基本"}},{id:"mtr",name:{en:"MTR",ko:"홍콩 지하철","zh-Hans":"港铁","zh-Hant":"港鐵"}},{id:"gzmtr",name:{en:"Guangzhou Metro",ko:"광저우 지하철","zh-Hans":"广州地铁","zh-Hant":"廣州地鐵"}},{id:"shmetro",name:{en:"Shanghai Metro",ko:"상해 지하철","zh-Hans":"上海地铁","zh-Hant":"上海地鐵"}}],Gi=[{filename:"default",name:{en:"Default",ko:"묵인","zh-Hans":"默认","zh-Hant":"預設"},style:"mtr"},{filename:"coline",name:{en:"Track Share",ko:"공용선","zh-Hans":"共线","zh-Hant":"共綫"},style:"shmetro"},{filename:"loop",name:{en:"Loop Line",ko:"순환선","zh-Hans":"环线","zh-Hant":"環綫"},style:"shmetro"}],Ki=[{filename:"twl",name:{en:"Tsuen Wan Line",ko:"췬완선","zh-Hans":"荃湾线","zh-Hant":"荃灣綫"},uploadBy:"wongchito",style:"mtr"},{filename:"ktl",name:{en:"Kwun Tong Line",ko:"군통선","zh-Hans":"观塘线","zh-Hant":"觀塘綫"},uploadBy:"wongchito",style:"mtr"},{filename:"isl",name:{en:"Island Line",ko:"공도선","zh-Hans":"港岛线","zh-Hant":"港島綫"},uploadBy:"wongchito",style:"mtr"},{filename:"tkl",name:{en:"Tseung Kwan O Line",ko:"정관오선","zh-Hans":"将军澳线","zh-Hant":"將軍澳綫"},uploadBy:"wongchito",style:"mtr"},{filename:"tcl",name:{en:"Tung Chung Line",ko:"둥충선","zh-Hans":"东涌线","zh-Hant":"東涌綫"},uploadBy:"wongchito",style:"mtr"},{filename:"sile",name:{en:"South Island Line",ko:"남공도선","zh-Hans":"南港岛线","zh-Hant":"南港島綫"},uploadBy:"wongchito",style:"mtr"},{filename:"drl",name:{en:"Disneyland Resort Line",ko:"디즈니선","zh-Hans":"迪士尼线","zh-Hant":"迪士尼綫"},uploadBy:"wongchito",style:"mtr"},{filename:"ael",name:{en:"Airport Express",ko:"홍콩 공항철도","zh-Hans":"机场快线","zh-Hant":"機場快綫"},uploadBy:"wongchito",style:"mtr"},{filename:"eal",name:{en:"East Rail Line",ko:"둥팃선","zh-Hans":"东铁线","zh-Hant":"東鐵綫"},uploadBy:"wongchito",style:"mtr"},{filename:"tml",name:{en:"Tuen Ma Line","zh-Hans":"屯马线","zh-Hant":"屯馬綫",ko:"튄마선"},uploadBy:"wongchito",style:"mtr"},{filename:"505",name:{en:"Light Rail Route 505","zh-Hans":"轻铁505线","zh-Hant":"輕鐵505綫"},uploadBy:"cartop-114514",style:"mtr"}],Ji=[{filename:"gz1",name:{en:"Line 1",ko:"1호선","zh-Hans":"1号线","zh-Hant":"1號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz2",name:{en:"Line 2",ko:"2호선","zh-Hans":"2号线","zh-Hant":"2號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz3",name:{en:"Line 3",ko:"3호선","zh-Hans":"3号线","zh-Hant":"3號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz4",name:{en:"Line 4",ko:"4호선","zh-Hans":"4号线","zh-Hant":"4號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz5",name:{en:"Line 5",ko:"5호선","zh-Hans":"5号线","zh-Hant":"5號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz6",name:{en:"Line 6",ko:"6호선","zh-Hans":"6号线","zh-Hant":"6號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz7",name:{en:"Line 7",ko:"7호선","zh-Hans":"7号线","zh-Hant":"7號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz8",name:{en:"Line 8",ko:"8호선","zh-Hans":"8号线","zh-Hant":"8號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz9",name:{en:"Line 9",ko:"9호선","zh-Hans":"9号线","zh-Hant":"9號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz13",name:{en:"Line 13","zh-Hans":"13号线","zh-Hant":"13號線",ko:"13호선"},uploadBy:"Dingdong2334",style:"gzmtr"},{filename:"gz14",name:{en:"Line 14",ko:"14호선","zh-Hans":"14号线","zh-Hant":"14號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz18",name:{en:"Line 18","zh-Hans":"18号线","zh-Hant":"18號線",ko:"18호선"},uploadBy:"Dingdong2334",style:"gzmtr"},{filename:"gz21",name:{en:"Line 21",ko:"21호선","zh-Hans":"21号线","zh-Hant":"21號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz22",name:{en:"Line 22",ko:"22호선","zh-Hans":"22号线","zh-Hant":"22號線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gf",name:{en:"Guangfo Line",ko:"광포 지하철","zh-Hans":"广佛线","zh-Hant":"廣佛線"},uploadBy:"wongchito",style:"gzmtr"},{filename:"apm",name:{en:"APM Line",ko:"주장신청 자동운송 체계","zh-Hans":"APM线","zh-Hant":"APM線"},uploadBy:"Dingdong2334",style:"gzmtr"},{filename:"thz1",name:{en:"Haizhu Tram Line 1",ko:"하이주 전차 1호선","zh-Hans":"海珠有轨1号线","zh-Hant":"海珠有軌1號線"},uploadBy:"clearng-kly",style:"gzmtr"},{filename:"thp1",name:{en:"Huangpu Tram Line 1",ko:"황푸 전차 1호선","zh-Hans":"黄埔有轨1号线","zh-Hant":"黃埔有軌1號線"},uploadBy:"clearng-kly",style:"gzmtr"}],Yi=[{filename:"sh1",name:{en:"Line 1",ko:"1호선","zh-Hans":"1号线","zh-Hant":"1號線"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh2",name:{en:"Line 2",ko:"2호선","zh-Hans":"2号线","zh-Hant":"2號線"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh3",name:{en:"Line 3 (External)",ko:"3호선(공선)","zh-Hans":"3号线 （共线）","zh-Hant":"3號線 （共線）"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh4",name:{en:"Line 4 (Loop)",ko:"4호선(순환선)","zh-Hans":"4号线 （环线）","zh-Hant":"4號線 （環線）"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh3&4",name:{en:"Line 3 and 4 (External with Loop)",ko:"3호선과 4호선(공선과 순환선)","zh-Hans":"3与4号线 （共线与环线）","zh-Hant":"3與4號線 （共線與環線）"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh5",name:{en:"Line 5",ko:"5호선","zh-Hans":"5号线","zh-Hant":"5號線"},uploadBy:"Tianxiu11111",style:"shmetro"},{filename:"sh6",name:{en:"Line 6",ko:"6호선","zh-Hans":"6号线","zh-Hant":"6號線"},uploadBy:"Thomastzc",style:"shmetro"},{filename:"sh7",name:{en:"Line 7",ko:"7호선","zh-Hans":"7号线","zh-Hant":"7號線"},uploadBy:"Thomastzc",style:"shmetro"},{filename:"sh8",name:{en:"Line 8",ko:"8호선","zh-Hans":"8号线","zh-Hant":"8號線"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh9",name:{en:"Line 9",ko:"9호선","zh-Hans":"9号线","zh-Hant":"9號線"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh10",name:{en:"Line 10 (Branch)",ko:"10호선(지선)","zh-Hans":"10号线 （支线）","zh-Hant":"10號線 （支線）"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh11",name:{en:"Line 11",ko:"11호선","zh-Hans":"11号线","zh-Hant":"11號線"},uploadBy:"Tianxiu11111",style:"shmetro"},{filename:"sh12",name:{en:"Line 12",ko:"12호선","zh-Hans":"12号线","zh-Hant":"12號線"},uploadBy:"Andy1782010",style:"shmetro"},{filename:"sh13",name:{en:"Line 13",ko:"13호선","zh-Hans":"13号线","zh-Hant":"13號線"},uploadBy:"Andy1782010",style:"shmetro"},{filename:"sh14",name:{en:"Line 14",ko:"14호선","zh-Hans":"14号线","zh-Hant":"14號線"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh15",name:{en:"Line 15",ko:"15호선","zh-Hans":"15号线","zh-Hant":"15號線"},uploadBy:"Thomastzc",style:"shmetro"},{filename:"sh16",name:{en:"Line 16 (Express)",ko:"16호선(급행)","zh-Hans":"16号线 （快车）","zh-Hant":"16號線 （快車）"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh17",name:{en:"Line 17",ko:"17호선","zh-Hans":"17号线","zh-Hant":"17號線"},uploadBy:"Thomastzc",style:"shmetro"},{filename:"sh18",name:{en:"Line 18",ko:"18호선","zh-Hans":"18号线","zh-Hant":"18號線"},uploadBy:"Tianxiu11111",style:"shmetro"}],qi={basic:Gi,mtr:Ki,gzmtr:Ji,shmetro:Yi};var Kt;(function(t){t.MTR="mtr",t.GZMTR="gzmtr",t.SHMetro="shmetro"})(Kt||(Kt={}));const Qi=Wi,Zi=qi,Xi={coreCompanyConfig:Qi,otherCompanyConfig:[],templateList:Zi,selectedCompany:""},zn=rn({name:"app",initialState:Xi,reducers:{setOtherCompanyConfig:(t,e)=>{t.otherCompanyConfig=e.payload},setTemplateListByCompany:(t,e)=>{const{company:n,templates:r}=e.payload;t.templateList[n]=r},setSelectedCompany:(t,e)=>{t.selectedCompany=e.payload}}}),{setOtherCompanyConfig:es,setTemplateListByCompany:wu,setSelectedCompany:xu}=zn.actions,ts=zn.reducer,ns=t=>{const e=document.createElement("details");e.setAttribute("repo","rmg-templates"),e.setAttribute("company",t.id),e.setAttribute("line","00config");const n=document.createElement("summary");n.textContent="New company: "+t.name.en,e.append(n);const r=document.createElement("details");return r.setAttribute("type","name"),r.textContent=JSON.stringify(t.name),e.append(r),e},rs=(t,e,n,r,o)=>{const a=document.createElement("details");a.setAttribute("repo","rmg-templates"),a.setAttribute("company",t),a.setAttribute("line",e),a.setAttribute("major",n.toString());const i=document.createElement("summary");i.textContent=`${t}/${e}`+(n?"(M)":""),a.append(i);const s=document.createElement("details");s.setAttribute("type","name"),s.textContent=JSON.stringify(r),a.append(s);const l=document.createElement("details");return l.setAttribute("type","param"),l.textContent=JSON.stringify(o),a.append(l),a},os="操作",as="应用程序",is="黑",ss="取消",ls="城市",us="组件",cs="确定",fs="继续",hs="复制",ds="编辑",gs="语言/Language",ps="理由",ms="名称",ys="下一步",vs="打开",bs="调色板",ws="上一步",xs="删除",Ss="重置",Os="设置",Cs="提交",_s="翻译",Ts="上传",Rs="白",Ls={Action:os,Apps:as,"Back to list":"返回列表","Background colour":"背景色",Black:is,Cancel:ss,City:ls,Components:us,"Configuration file":"配置文件",Confirm:cs,Continue:fs,"Country/Region":"国家/地区",Copy:hs,Edit:ds,"Foreground colour":"前景色","Go back":"返回",Language:gs,Justification:ps,Name:ms,Next:ys,Open:vs,Palette:bs,"Please select...":"请选择...",Previous:ws,"Rail Map Generator":"铁路线路图生成器","Rail Map Painter":"地铁线路图绘制器","Rail Map Toolkit":"线路图工具包",Remove:xs,Reset:Ss,"RMG Templates":"RMG 模板","RMP Gallery":"RMP 画廊","Seed Project":"种子项目",Settings:Os,Submit:Cs,Translate:_s,Upload:Ts,White:Rs},Es="動作",js="應用程式",ks="黑",zs="取消",As="城市",Ps="元件",Ns="確定",Hs="繼續",$s="複製",Is="編輯",Ms="語言/Language",Bs="理由",Fs="名稱",Ds="下一步",Us="開啟",Vs="調色盤",Ws="上一步",Gs="移除",Ks="重設",Js="設定",Ys="提交",qs="翻譯",Qs="上載",Zs="白",Xs={Action:Es,Apps:js,"Back to list":"返回列表","Background colour":"背景色",Black:ks,Cancel:zs,City:As,Components:Ps,"Configuration file":"設定檔",Confirm:Ns,Continue:Hs,Copy:$s,"Country/Region":"國家/地區",Edit:Is,"Foreground colour":"前景色","Go back":"返回",Language:Ms,Justification:Bs,Name:Fs,Next:Ds,Open:Us,Palette:Vs,"Please select...":"請選擇...",Previous:Ws,"Rail Map Generator":"鐵路路綫圖產生器","Rail Map Painter":"地鐵路綫圖繪製器","Rail Map Toolkit":"路綫圖工具組",Remove:Gs,Reset:Ks,"RMG Templates":"RMG 範本","RMP Gallery":"RMP 畫廊","Seed Project":"種子項目",Settings:Js,Submit:Ys,Translate:qs,Upload:Qs,White:Zs},el="조작",tl="앱",nl="블랙",rl="취소",ol="도시",al="요소",il="확인",sl="복사",ll="편집",ul="언어/Language",cl="이유",fl="명칭",hl="다음",dl="열기",gl="팔레트",pl="나아가",ml="삭제",yl="리셋",vl="설치",bl="제출",wl="번역",xl="업로드",Sl="화이트",Ol={Action:el,Apps:tl,"Back to list":"다시 목록으로","Background colour":"배경색",Black:nl,Cancel:rl,City:ol,Components:al,"Configuration file":"환경 설정 파일",Confirm:il,Copy:sl,"Country/Region":"국가/지역",Edit:ll,"Foreground colour":"전경색","Go back":"되돌아가",Language:ul,Justification:cl,Name:fl,Next:hl,Open:dl,Palette:gl,"Please select...":"선택해주세요",Previous:pl,"Rail Map Generator":"철도 노선도 생성기","Rail Map Painter":"지하철 노선도 그리기","Rail Map Toolkit":"노선도 툴킷",Remove:ml,Reset:yl,"RMG Templates":"RMG 템플릿","RMP Gallery":"RMP 갤러리","Seed Project":"종자 프로젝트",Settings:vl,Submit:bl,Translate:wl,Upload:xl,White:Sl};var Jt=["en","zh-Hans","zh-Hant"],Su={ar:{ar:"العربية",en:"Arabic",ko:"아랍어","zh-Hans":"阿拉伯文","zh-Hant":"阿拉伯文"},az:{az:"Azərbaycanca",en:"Azerbaijani",ko:"아제르바이잔어","zh-Hans":"阿塞拜疆文","zh-Hant":"阿塞拜疆文"},ca:{ca:"Català",en:"Catalan",ko:"카탈루냐어","zh-Hans":"加泰罗尼亚文","zh-Hant":"加泰隆尼亞文"},da:{da:"Dansk",en:"Danish",ko:"덴마크어","zh-Hans":"丹麦文","zh-Hant":"丹麥文"},de:{de:"Deutsch",en:"German",ko:"독일어","zh-Hans":"德文","zh-Hant":"德文"},el:{el:"Ελληνικά",en:"Greek",ko:"그리스어","zh-Hans":"希腊文","zh-Hant":"希臘文"},en:{en:"English",ko:"영어","zh-Hans":"英文","zh-Hant":"英文"},es:{en:"Spanish",es:"Español",ko:"스페인어","zh-Hans":"西班牙文","zh-Hant":"西班牙文"},fa:{en:"Persian",fa:"فارسی",ko:"페르시아어","zh-Hans":"波斯文","zh-Hant":"波斯文"},fr:{en:"French",fr:"Français",ko:"프랑스어","zh-Hans":"法文","zh-Hant":"法文"},ga:{en:"Irish",ga:"Gaeilge",ko:"아일랜드어","zh-Hans":"爱尔兰文","zh-Hant":"愛爾蘭文"},gd:{en:"Scottish Gaelic",gd:"Gàidhlig",ko:"스코틀랜드 게일어","zh-Hans":"苏格兰盖尔文","zh-Hant":"蘇格蘭蓋爾文"},hi:{en:"Hindi",hi:"हिन्दी",ko:"힌디어","zh-Hans":"印地文","zh-Hant":"印地文"},hu:{en:"Hungarian",hu:"Magyar",ko:"헝가리어","zh-Hans":"匈牙利文","zh-Hant":"匈牙利文"},id:{en:"Indoesian",id:"Bahasa Indonesia",ko:"인도네시아어","zh-Hans":"印尼文","zh-Hant":"印尼文"},it:{en:"Italian",it:"Italiano",ko:"이탈리아어","zh-Hans":"意大利文","zh-Hant":"意大利文"},ja:{en:"Japanese",ja:"日本語",ko:"일본어","zh-Hans":"日文","zh-Hant":"日文"},ko:{en:"Korean",ko:"한국어","zh-Hans":"韩文","zh-Hant":"韓文"},ms:{en:"Malay",ko:"말레이어",ms:"Bahasa Melayu","zh-Hans":"马来文","zh-Hant":"馬來文"},no:{en:"Norwegian",ko:"노르웨이어",no:"Norsk","zh-Hans":"挪威文","zh-Hant":"挪威文"},pl:{en:"Polish",ko:"폴란드어",pl:"Polski","zh-Hans":"波兰文","zh-Hant":"波蘭文"},pt:{en:"Portuguese",ko:"포르투갈어",pt:"Português","zh-Hans":"葡萄牙文","zh-Hant":"葡萄牙文"},ro:{en:"Romanian",ko:"루마니아어",ro:"Română","zh-Hans":"罗马尼亚文","zh-Hant":"羅馬尼亞文"},ru:{en:"Russian",ko:"러시아어",ru:"Русский","zh-Hans":"俄文","zh-Hant":"俄文"},sv:{en:"Swedish",ko:"스웨덴어",sv:"Svenska","zh-Hans":"瑞典文","zh-Hant":"瑞典文"},th:{en:"Thai",ko:"태국어",th:"ภาษาไทย","zh-Hans":"泰文","zh-Hant":"泰文"},tr:{en:"Turkish",ko:"튀르키예어",tr:"Türkçe","zh-Hans":"土耳其文","zh-Hant":"土耳其文"},ur:{en:"Urdo",ko:"우르두어",ur:"اردو","zh-Hans":"乌尔都文","zh-Hant":"烏爾都文"},uz:{en:"Uzbek",ko:"우즈베크어",uz:"Oʻzbekcha","zh-Hans":"乌兹别克文","zh-Hant":"烏茲別克文"},vi:{en:"Vietnamese",ko:"베트남어",vi:"Tiếng Việt","zh-Hans":"越南文","zh-Hant":"越南文"},"zh-Hans":{en:"Simplified Chinese",ko:"중국어 간체자","zh-Hans":"简体中文","zh-Hant":"簡體中文"},"zh-Hant":{en:"Traditional Chinese",ko:"중국어 정체자","zh-Hans":"繁体中文","zh-Hant":"繁體中文"}},Cl={en:{},"zh-Hans":Ls,"zh-Hant":Xs,ko:Ol};const Yt=()=>({id:crypto.randomUUID(),line:"",newLine:"",majorUpdate:!1,templateName:{en:"","zh-Hans":"","zh-Hant":""},optionalName:[["ko",""]],param:void 0}),qt={company:"",newCompany:"",companyName:{en:"","zh-Hans":"","zh-Hant":""},companyOptionalName:[["ko",""]],templates:[]},An=rn({name:"ticket",initialState:qt,reducers:{setCompany:(t,e)=>{t.company=e.payload,e.payload==="new"&&(t.templates=t.templates.map(n=>({...n,line:"new"})))},setNewCompany:(t,e)=>{t.newCompany=e.payload},setCompanyNameByLang:(t,e)=>{const{lang:n,name:r}=e.payload;t.companyName[n]=r},setCompanyOptionalName:(t,e)=>{t.companyOptionalName=e.payload},addTemplate:t=>{t.templates.push(Yt())},setTemplateLineById:(t,e)=>{var i;const{id:n,line:r,name:o}=e.payload,a={...(i=t.templates.find(s=>s.id===n))!=null?i:Yt(),line:r};o&&(a.templateName=Jt.reduce((s,l)=>{var u;return{...s,[l]:(u=o[l])!=null?u:""}},{}),a.optionalName=Object.entries(o).filter(([s])=>!Jt.includes(s))),t.templates=t.templates.map(s=>s.id===n?a:s)},setTemplateNewLineById:(t,e)=>{t.templates=t.templates.map(n=>n.id===e.payload.id?{...n,newLine:e.payload.newLine}:n)},setTemplateMajorFlagById:(t,e)=>{t.templates=t.templates.map(n=>n.id===e.payload.id?{...n,majorUpdate:e.payload.majorUpdate}:n)},setTemplateLineNameById:(t,e)=>{t.templates=t.templates.map(n=>n.id===e.payload.id?{...n,templateName:{...n.templateName,[e.payload.lang]:e.payload.name}}:n)},setTemplateOptionalNameById:(t,e)=>{t.templates=t.templates.map(n=>n.id===e.payload.id?{...n,optionalName:e.payload.optionalName}:n)},setTemplateParamById:(t,e)=>{t.templates=t.templates.map(n=>n.id===e.payload.id?{...n,param:e.payload.param}:n)},removeTemplate:(t,e)=>{t.templates=t.templates.filter(n=>n.id!==e.payload)},resetTicket:()=>qt}}),Ou={getCompanyEnglishName:(t,e)=>{var n,r,o;return t.company==="new"?t.companyName.en:(o=(r=(n=e.find(a=>a.id===t.company))==null?void 0:n.name)==null?void 0:r.en)!=null?o:""},getCompanyBlock:t=>t.company!=="new"?null:ns({id:t.newCompany,name:t.companyName}),getTemplateBlocks:t=>{const e=t.company==="new"?t.newCompany:t.company;return t.templates.map(n=>{const r=n.line==="new"?n.newLine:n.line,o=n.line!=="new"&&n.majorUpdate,a=[...Object.entries(n.templateName),...n.optionalName].reduce((i,s)=>{const l=s[1].trim();return l?{...i,[s[0]]:l}:i},{});return rs(e,r,o,a,n.param)})},getCompanyErrors:t=>{const e=[],{company:n,newCompany:r,companyName:o}=t;return(!n||n==="new"&&!r)&&e.push("COMPANY_CODE_UNDEFINED"),n==="new"&&Object.values(o).some(a=>!a)&&e.push("COMPANY_NAME_INCOMPLETE"),e},getTemplateErrors:t=>{const e={Overall:[]},{templates:n}=t;return n.length===0&&e.Overall.push("TEMPLATE_SECTION_EMPTY"),n.some(r=>!r.line||r.line==="new"&&!r.newLine)&&e.Overall.push("TEMPLATE_CODE_UNDEFINED"),new Set(n.map(r=>r.line==="new"?r.newLine:r.line)).size!==n.length&&e.Overall.push("TEMPLATE_CODE_DUPLICATED"),n.forEach(r=>{const o=[];Object.values(r.templateName).some(a=>!a)&&o.push("TEMPLATE_NAME_INCOMPLETE"),r.param||o.push("TEMPLATE_PARAM_UNDEFINED"),e["Line "+r.line||r.newLine]=o}),e},getMajorUpdateNames:(t,e)=>{const{company:n,templates:r}=t;return n==="new"?[]:r.filter(o=>o.majorUpdate&&o.line!=="new").map(o=>{var i;const a=(i=e[n].find(s=>s.filename===o.line))==null?void 0:i.name;return a?Object.values(a).join("/"):o.line})}},{setCompany:Cu,setNewCompany:_u,setCompanyNameByLang:Tu,setCompanyOptionalName:Ru,addTemplate:Lu,setTemplateLineById:Eu,setTemplateNewLineById:ju,setTemplateMajorFlagById:ku,setTemplateLineNameById:zu,setTemplateOptionalNameById:Au,setTemplateParamById:Pu,removeTemplate:Nu,resetTicket:Hu}=An.actions,_l=An.reducer,Tl=Cr(),ft=_r({reducer:{app:ts,ticket:_l},middleware:t=>t().prepend(Tl.middleware)}),$u=()=>va(),Iu=la;window.rmgStore=ft;const Rl={},Ll="字符",El="关闭",jl="公司",kl="导入",zl="线路",Al="本地",Pl="添加",Nl="大小",Hl="风格",$l="模板",Il="上传者",Ml={"Add a company...":"添加公司...","Add a line...":"添加线路...","Add item":"添加项目","Add more translations":"添加更多翻译","Add or update templates":"添加或更新模本","Add translation":"添加翻译","Briefly describe your changes and provide justification":"简洁地描述您的改动并提供理由",chars:Ll,"Click copy button and paste into issue body":"点击复制按钮然后粘贴到 Issue 正文",Close:El,Company:jl,"Company code":"公司代码","Core companies":"主要公司","Follow the instructions below to open an Issue":"按下方的指引打开 Issue",Import:kl,"Import from":"导入自","Justification for major update of":"重大更新的理由：",Line:zl,"Line code":"线路代码",Local:Al,"Major update":"重大更新",New:Pl,"No templates available in selected company.":"所选公司没有可用的模版。","Other companies":"其他公司","Please provide suitable source and justification.":"请您提供适当的来源和理由。","Railway company":"铁路公司","Remove this line":"删除此线路","Remove translation":"删除此翻译",Size:Nl,Style:Hl,"Submit templates":"提交模板",Templates:$l,"Toggling on 'Major update' will update the uploader field of the template and you are required enter extra justification for it.":"打开“重大更新”选项会更新模板的上传者栏位。您需要为此提供额外的理由。","Unable to import selected template.":"无法导入所选的模板。","Upload templates":"上传模板",Uploader:Il,"Your inputs contain the following errors. Please fix it before submitting.":"您的输入存在以下问题，请在提交前修正他們。"},Bl="字元",Fl="關閉",Dl="公司",Ul="匯入",Vl="路線",Wl="本機",Gl="新增",Kl="大小",Jl="風格",Yl="範本",ql="上載者",Ql={"Add a company...":"新增公司...","Add a line...":"新增路線...","Add item":"新增項目","Add more translations":"新增更多翻譯","Add or update templates":"新增或更新範本","Add translation":"新增翻譯","Briefly describe your changes and provide justification":"簡短地描述你的變更並提供理由",chars:Bl,"Click copy button and paste into issue body":"點擊複製按鈕並於 Issue 正文內貼上",Close:Fl,Company:Dl,"Company code":"公司代碼","Core companies":"主要公司","Follow the instructions below to open an Issue":"按下方的指引開啟 Issue",Import:Ul,"Import from":"匯入自","Justification for major update of":"重大更新的理由：",Line:Vl,"Line code":"路線代碼",Local:Wl,"Major update":"重大更新",New:Gl,"No templates available in selected company.":"所選公司沒有可用的範本。","Other companies":"其他公司","Please provide suitable source and justification.":"請你提供適當的來源及理由。","Railway company":"鐵路公司","Remove this line":"移除此路線","Remove translation":"移除此翻譯",Size:Kl,Style:Jl,"Submit templates":"提交範本",Templates:Yl,"Toggling on 'Major update' will update the uploader field of the template and you are required enter extra justification for it.":"開啟「重大更新」選項會更新範本的上載者欄位。你需要為此提供額外的理由。","Unable to import selected template.":"無法匯入所選的範本。","Upload templates":"上載範本",Uploader:ql,"Your inputs contain the following errors. Please fix it before submitting.":"你的輸入存在以下問題，請於提交前修正他們。"},Zl="닫기",Xl="회사",eu="노선",tu="스타일",nu="템플릿",ru="업로더",ou={"Add a company...":"회사 추가","Add a line...":"노선 추가","Add item":"프로젝트 추가","Add or update templates":"템플릿 추가 또는 업데이트","Briefly describe your changes and provide justification":"변경 사항을 간결하게 설명하고 이유를 제공하세요","Click copy button and paste into issue body":"복사 단추를 누른 다음 Issue 본문에 붙여넣기",Close:Zl,Company:Xl,"Company code":"회사 코드","Follow the instructions below to open an Issue":"아래 안내로 Issue 열기","Justification for major update of":"주요 업데이트 이유:",Line:eu,"Line code":"노선 코드","Major update":"주요 업데이트","Please provide suitable source and justification.":"당신이 적당한 출처와 이유를 제공해 주십시오.","Railway company":"철도회사",Style:tu,"Submit templates":"템플릿 제출",Templates:nu,"Toggling on 'Major update' will update the uploader field of the template and you are required enter extra justification for it.":"'주요 업데이트' 옵션을 열면 템플릿의 게시자 필드가 업데이트됩니다.이를 위한 추가적인 이유가 필요합니다.","Upload templates":"업로드 템플릿",Uploader:ru,"Your inputs contain the following errors. Please fix it before submitting.":"귀하의 입력에 다음과 같은 문제가 있으니 제출하기 전에 수정해 주십시오."},au=new _.I18nBuilder().use(Tr).withAppName("RMG Templates").withLng(_.getLanguage()).withDefaultResource(Cl).withResource("en",Rl).withResource("zh-Hans",Ml).withResource("zh-Hant",Ql).withResource("ko",ou).build();var Pn,Qt=nn;Pn=Qt.createRoot,Qt.hydrateRoot;const iu=document.querySelector.bind(document),su=async()=>{var t;try{const n=await(await fetch("/rmg-templates/resources/other-company-config.json")).json(),r=document.createElement("p");return r.textContent="Fetched non-core company config",(t=iu("#root"))==null||t.append(r),n}catch(e){return console.error("Failed to fetch non-core company config",e),[]}},lu=async t=>{const e=await su();t.dispatch(es(e))};async function uu(t){await lu(t)}let Zt;const cu=()=>{Zt=Pn(document.getElementById("root")),Zt.render(h.jsx(y.StrictMode,{children:h.jsx(pa,{store:ft,children:h.jsx(Rr,{i18n:au,children:h.jsx(Vi,{})})})}))};_.ready().then(()=>uu(ft)).then(()=>{cu(),_.injectUITools()});export{Su as L,vu as R,Jt as S,hu as __vite_legacy_guard,Ge as a,va as b,bu as c,yu as d,mu as e,$u as f,Cu as g,_u as h,Tu as i,Ru as j,pu as k,ju as l,ku as m,zu as n,Au as o,Pu as p,Nu as q,_ as r,xu as s,Lu as t,Iu as u,Eu as v,Ou as w,Hu as x,wu as y};
