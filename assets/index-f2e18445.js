import{u as k,a as Bn,j as d,P as Dn,c as fe,F as Fn,b as Zt,I as Un,B as Vn,d as Ue,e as D,T as Wn,f as Gn,g as Kn,h as Jn,i as Yn,k as qn,l as Qn,m as Zn,n as Xn,A as er,M as tr,o as nr,p as rr,q as ar,r as or,s as B,t as ir,v as Xt,L as vt,w as sr,x as lr,y as ur,z as cr,C as hr,D as dr,S as fr,E as bt,G as pr,H as gr,J as mr,K as yr,N as vr,O as te,Q as br,R as wr,U as xr,V as Sr,W as Or,X as tt}from"./chakra-0292837a.js";import{r as m,a as en,b as Cr,u as nt,H as zr,e as _r,f as Ne,h as tn,i as Hr,j as Tr,k as Er,l as Rr,I as Lr}from"./react-61f43b90.js";function ku(){import.meta.url,import("_").catch(()=>1);async function*t(){}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const nn=t=>new Promise(e=>{setTimeout(e,t,`Timeout after ${t/1e3} seconds`)});var I;(function(t){t.DEV="DEV",t.UAT="UAT",t.PRD="PRD"})(I||(I={}));var rn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(c){try{u(r.next(c))}catch(f){i(f)}}function l(c){try{u(r.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):a(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};let rt,at,ot,it,st;const an=()=>{rt=!1,at="rmg-unknown",ot="unknown",it=I.PRD,st="unknown"},kr=()=>rn(void 0,void 0,void 0,function*(){const t=window.location.pathname.split("/")[1],e=t?`/${t}/info.json`:"/info.json",n=yield fetch(e);if(n.ok){const r=yield n.json();at=r.component,ot=r.version,it=r.environment,st=r.instance}else throw new Error(`Failed to fetch config from ${e}`)}),jr=()=>rn(void 0,void 0,void 0,function*(){try{console.log("[rmg-runtime] Loading config...");const t=yield Promise.race([kr(),nn(10*1e3)]);t?console.error("[rmg-runtime] Failed to load config.",t):(rt=!0,console.log("[rmg-runtime] Config loaded!"))}catch(t){console.error("[rmg-runtime] Failed to load config.",t)}}),Pr=()=>rt,Ar=()=>at,Nr=()=>ot,Mr=()=>it,Ir=()=>st;an();const R={loadWithTimeout:jr,isInitialised:Pr,getComponent:Ar,getVersion:Nr,getEnvironment:Mr,getInstance:Ir,_resetConfig:an};window.dataLayer=window.dataLayer||[];const $r=()=>{const t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(t)};function Ve(...t){if(R.getEnvironment()!==I.DEV)return window.dataLayer.push(arguments);console.log("[rmg-runtime] Not going to send event in DEV environment",t)}const Br=(t,e)=>{Ve("event",t,e)},Dr=()=>{$r(),Ve("js",new Date),Ve("config","G-2HP8Y4MRRQ",{appName:R.getComponent(),version:R.getVersion(),environment:R.getEnvironment(),instance:R.getInstance()})},pe={init:Dr,customEvent:Br},Fr="rmg-runtime-channel",he={};let ne;try{ne=new BroadcastChannel(Fr),ne.onmessage=t=>{var e;const{event:n,data:r,frameId:a}=t.data;(e=he[n])===null||e===void 0||e.forEach(o=>o(r,a))}}catch(t){console.warn("[rmg-runtime] Failed to initiate broadcast channel. Some features may be unavailable.",t)}const Ur=(t,e,n)=>{var r;n&&console.log(`[rmg-runtime] Broadcasting event ${t} with data`,e),ne==null||ne.postMessage({event:t,data:e,frameId:(r=window.frameElement)===null||r===void 0?void 0:r.id})},Vr=(t,e)=>{var n;t in he?(n=he[t])===null||n===void 0||n.push(e):he[t]=[e]},H={postEvent:Ur,onMessage:Vr},on="TOGGLE_NAV_MENU",sn="OPEN_APP",ln="CLOSE_APP",un="UPDATE_URL",We=()=>!window.frameElement,Wr=()=>{var t;return!!(!((t=window.frameElement)===null||t===void 0)&&t.closest(".show-menu"))},Gr=()=>{if(!We()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const t=document.createElement("style");t.textContent=".rmg-window__header:not(.rmg-window__app-clip-header){margin-left: 40px;}",!We()&&!Wr()&&document.head.appendChild(t),H.onMessage(on,e=>{if(e)try{document.head.removeChild(t)}catch(n){console.warn("[rmg-runtime] Unable to remove indent style from RmgWindowHeader",n)}else document.head.appendChild(t)})},Kr=(t,e)=>{H.postEvent(sn,{appId:t,url:e})},Jr=t=>{H.postEvent(ln,t)},Yr=t=>{H.postEvent(un,t)},qr=t=>{H.onMessage(sn,t)},Qr=t=>{H.onMessage(ln,t)},Zr=t=>{H.onMessage(un,t)},Xr=t=>{H.postEvent(on,t,!0)},A={isStandaloneWindow:We,injectUITools:Gr,openApp:Kr,onAppOpen:qr,closeApp:Jr,onAppClose:Qr,updateUrl:Yr,onUrlUpdate:Zr,toggleNavMenu:Xr},cn="rmg-runtime__language",hn="rmg-runtime__colourMode",ge="rmg-runtime__allowAnalytics",dn="SET_LANGUAGE",fn="SET_COLOUR_MODE",ea=t=>{H.postEvent(dn,t),window.localStorage.setItem(cn,t)},ta=()=>window.localStorage.getItem(cn)||"en",na=t=>{H.onMessage(dn,t)},pn=["light","dark","system"],ra=t=>{pn.includes(t)&&(H.postEvent(fn,t,!0),window.localStorage.setItem(hn,t))},aa=()=>{const t=window.localStorage.getItem(hn);return t&&pn.includes(t)?t:"system"},oa=t=>{H.onMessage(fn,t)},ia=()=>window.localStorage.getItem(ge)!==null,gn=()=>window.localStorage.getItem(ge)==="true",sa=t=>{const e=gn();return t?(e||(window.localStorage.setItem(ge,t.toString()),pe.init()),{refreshRequired:!1}):e?(window.localStorage.setItem(ge,t.toString()),{refreshRequired:!0}):{refreshRequired:!1}},L={setLanguage:ea,getLanguage:ta,onLanguageChange:na,setColourMode:ra,getColourMode:aa,onColourModeChange:oa,isAnalyticsQADone:ia,isAllowAnalytics:gn,allowAnalytics:sa},la=new Date().getTime();function ua(){const t=R.getComponent(),e=window.localStorage.getItem(t+"__startTime");return e===null?new Date().getTime()-la:new Date().getTime()-Number(e)}const ca={getMsSinceStartUp:ua},de={},Y=()=>{const t=R.getComponent();if(t==="rmg-unknown")throw new Error("[rmg-runtime] Unable to clear storage for unknown app");return t==="railmapgen.github.io"?"rmg-home":t};window.addEventListener("storage",t=>{var e;const{key:n,newValue:r}=t;n&&((e=de[n])===null||e===void 0||e.forEach(a=>a(r)))});const ha=(t,e)=>{var n;const r=`${Y()}__${t}`;r in de?(n=de[r])===null||n===void 0||n.push(e):de[r]=[e]},da=t=>{const e=Y();return window.localStorage.getItem(`${e}__${t}`)},fa=()=>{const t=Y(),e={};let n=0;for(;n<window.localStorage.length;){const r=window.localStorage.key(n);if(r!=null&&r.startsWith(t+"__")){const a=window.localStorage.getItem(r);a&&(e[r]=a)}n++}return e},pa=(t,e)=>{const n=Y();window.localStorage.setItem(`${n}__${t}`,e)},ga=t=>{const e=Y();window.localStorage.removeItem(`${e}__${t}`)},ma=()=>{const t=Y();let e=0;for(;e<window.localStorage.length;){const n=window.localStorage.key(e);n!=null&&n.startsWith(t+"__")?(window.localStorage.removeItem(n),console.log(`[rmg-runtime] Removed item ${n}`)):e++}},U={on:ha,get:da,getAll:fa,set:pa,remove:ga,clear:ma},ya={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class me{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||ya,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,a){return a&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new me(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new me(this.logger,e)}}var N=new me;class Oe{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];this.observers[e]&&[].concat(this.observers[e]).forEach(i=>{i(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(i=>{i.apply(i,[e,...r])})}}function ee(){let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n}function wt(t){return t==null?"":""+t}function va(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}function lt(t,e,n){function r(i){return i&&i.indexOf("###")>-1?i.replace(/###/g,"."):i}function a(){return!t||typeof t=="string"}const o=typeof e!="string"?[].concat(e):e.split(".");for(;o.length>1;){if(a())return{};const i=r(o.shift());!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={}}return a()?{}:{obj:t,k:r(o.shift())}}function xt(t,e,n){const{obj:r,k:a}=lt(t,e,Object);r[a]=n}function ba(t,e,n,r){const{obj:a,k:o}=lt(t,e,Object);a[o]=a[o]||[],r&&(a[o]=a[o].concat(n)),r||a[o].push(n)}function ye(t,e){const{obj:n,k:r}=lt(t,e);if(n)return n[r]}function wa(t,e,n){const r=ye(t,n);return r!==void 0?r:ye(e,n)}function mn(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):mn(t[r],e[r],n):t[r]=e[r]);return t}function V(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var xa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Sa(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>xa[e]):t}const Oa=[" ",",","?","!",";"];function Ca(t,e,n){e=e||"",n=n||"";const r=Oa.filter(i=>e.indexOf(i)<0&&n.indexOf(i)<0);if(r.length===0)return!0;const a=new RegExp(`(${r.map(i=>i==="?"?"\\?":i).join("|")})`);let o=!a.test(t);if(!o){const i=t.indexOf(n);i>0&&!a.test(t.substring(0,i))&&(o=!0)}return o}function ve(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let a=t;for(let o=0;o<r.length;++o){if(!a||typeof a[r[o]]=="string"&&o+1<r.length)return;if(a[r[o]]===void 0){let i=2,s=r.slice(o,o+i).join(n),l=a[s];for(;l===void 0&&r.length>o+i;)i++,s=r.slice(o,o+i).join(n),l=a[s];if(l===void 0)return;if(l===null)return null;if(e.endsWith(s)){if(typeof l=="string")return l;if(s&&typeof l[s]=="string")return l[s]}const u=r.slice(o+i).join(n);return u?ve(l,u,n):void 0}a=a[r[o]]}return a}function be(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class St extends Oe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,i=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let s=[e,n];r&&typeof r!="string"&&(s=s.concat(r)),r&&typeof r=="string"&&(s=s.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(s=e.split("."));const l=ye(this.data,s);return l||!i||typeof r!="string"?l:ve(this.data&&this.data[e]&&this.data[e][n],r,o)}addResource(e,n,r,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[e,n];r&&(s=s.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(s=e.split("."),a=n,n=s[1]),this.addNamespaces(n),xt(this.data,s,a),o.silent||this.emit("added",e,n,r,a)}addResources(e,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Object.prototype.toString.apply(r[o])==="[object Array]")&&this.addResource(e,n,o,r[o],{silent:!0});a.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,a,o){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},s=[e,n];e.indexOf(".")>-1&&(s=e.split("."),a=r,r=n,n=s[1]),this.addNamespaces(n);let l=ye(this.data,s)||{};a?mn(l,r,o):l={...l,...r},xt(this.data,s,l),i.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var yn={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,a){return t.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,n,r,a))}),e}};const Ot={};class we extends Oe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),va(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=N.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const i=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Ca(e,r,a);if(i&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:o};const u=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(a)}return typeof o=="string"&&(o=[o]),{key:e,namespaces:o}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:i,namespaces:s}=this.extractFromKey(e[e.length-1],n),l=s[s.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const x=n.nsSeparator||this.options.nsSeparator;return a?{res:`${l}${x}${i}`,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:l}:`${l}${x}${i}`}return a?{res:i,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:l}:i}const f=this.resolve(e,n);let h=f&&f.res;const g=f&&f.usedKey||i,p=f&&f.exactUsedKey||i,y=Object.prototype.toString.apply(h),b=["[object Number]","[object Function]","[object RegExp]"],O=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&b.indexOf(y)<0&&!(typeof O=="string"&&y==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,h,{...n,ns:s}):`key '${i} (${this.language})' returned an object instead of string.`;return a?(f.res=x,f):x}if(o){const x=y==="[object Array]",T=x?[]:{},P=x?p:g;for(const _ in h)if(Object.prototype.hasOwnProperty.call(h,_)){const le=`${P}${o}${_}`;T[_]=this.translate(le,{...n,joinArrays:!1,ns:s}),T[_]===le&&(T[_]=h[_])}h=T}}else if(w&&typeof O=="string"&&y==="[object Array]")h=h.join(O),h&&(h=this.extendTranslation(h,e,n,r));else{let x=!1,T=!1;const P=n.count!==void 0&&typeof n.count!="string",_=we.hasDefaultValue(n),le=P?this.pluralResolver.getSuffix(u,n.count,n):"",In=n.ordinal&&P?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",Q=n[`defaultValue${le}`]||n[`defaultValue${In}`]||n.defaultValue;!this.isValidLookup(h)&&_&&(x=!0,h=Q),this.isValidLookup(h)||(T=!0,h=i);const $n=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:h,Z=_&&Q!==h&&this.options.updateMissing;if(T||x||Z){if(this.logger.log(Z?"updateKey":"missingKey",u,l,i,Z?Q:h),o){const E=this.resolve(i,{...n,keySeparator:!1});E&&E.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(let E=0;E<ue.length;E++)X.push(ue[E]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(n.lng||this.language):X.push(n.lng||this.language);const gt=(E,F,mt)=>{const yt=_&&mt!==h?mt:$n;this.options.missingKeyHandler?this.options.missingKeyHandler(E,l,F,yt,Z,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(E,l,F,yt,Z,n),this.emit("missingKey",E,l,F,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?X.forEach(E=>{this.pluralResolver.getSuffixes(E,n).forEach(F=>{gt([E],i+F,n[`defaultValue${F}`]||Q)})}):gt(X,i,Q))}h=this.extendTranslation(h,e,n,f,r),T&&h===i&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${i}`),(T||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${i}`:i,x?h:void 0):h=this.options.parseMissingKeyHandler(h))}return a?(f.res=h,f):h}extendTranslation(e,n,r,a,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const h=e.match(this.interpolator.nestingRegexp);c=h&&h.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language,r),u){const h=e.match(this.interpolator.nestingRegexp),g=h&&h.length;c<g&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(r.lng=a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];return o&&o[0]===g[0]&&!r.context?(i.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):i.translate(...g,n)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=typeof s=="string"?[s]:s;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=yn.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:a,...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,a,o,i,s;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;a=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=n.count!==void 0&&typeof n.count!="string",g=h&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),p=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(b=>{this.isValidLookup(r)||(s=b,!Ot[`${y[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(Ot[`${y[0]}-${b}`]=!0,this.logger.warn(`key "${a}" for languages "${y.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(O=>{if(this.isValidLookup(r))return;i=O;const w=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(w,c,O,b,n);else{let x;h&&(x=this.pluralResolver.getSuffix(O,n.count,n));const T=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(w.push(c+x),n.ordinal&&x.indexOf(P)===0&&w.push(c+x.replace(P,this.options.pluralSeparator)),g&&w.push(c+T)),p){const _=`${c}${this.options.contextSeparator}${n.context}`;w.push(_),h&&(w.push(_+x),n.ordinal&&x.indexOf(P)===0&&w.push(_+x.replace(P,this.options.pluralSeparator)),g&&w.push(_+T))}}let se;for(;se=w.pop();)this.isValidLookup(r)||(o=se,r=this.getResource(O,b,se,n))}))})}),{res:r,usedKey:a,exactUsedKey:o,usedLng:i,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,a):this.resourceStore.getResource(e,n,r,a)}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function Me(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Ct{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=N.create("languageUtils")}getScriptPartFromCode(e){if(e=be(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=be(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(a=>a.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Me(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Me(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Me(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&o.indexOf(a)===0)return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),a=[],o=i=>{i&&(this.isSupportedCode(i)?a.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):typeof e=="string"&&o(this.formatLanguageCode(e)),r.forEach(i=>{a.indexOf(i)<0&&o(this.formatLanguageCode(i))}),a}}let za=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_a={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const Ha=["v1","v2","v3"],Ta=["v4"],zt={zero:0,one:1,two:2,few:3,many:4,other:5};function Ea(){const t={};return za.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:_a[e.fc]}})}),t}class Ra{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=N.create("pluralResolver"),(!this.options.compatibilityJSON||Ta.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Ea()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(be(e),{type:n.ordinal?"ordinal":"cardinal"})}catch(r){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(a=>`${n}${a}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((a,o)=>zt[a]-zt[o]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):r.numbers.map(a=>this.getSuffix(e,a,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,r);return a?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:this.getSuffixRetroCompatible(a,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let a=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const o=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Ha.includes(this.options.compatibilityJSON)}}function _t(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=wa(t,e,n);return!o&&a&&typeof n=="string"&&(o=ve(t,n,r),o===void 0&&(o=ve(e,n,r))),o}class La{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=N.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:Sa,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?V(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?V(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?V(n.nestingPrefix):n.nestingPrefixEscaped||V("$t("),this.nestingSuffix=n.nestingSuffix?V(n.nestingSuffix):n.nestingSuffixEscaped||V(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,n,r,a){let o,i,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(p){return p.replace(/\$/g,"$$$$")}const c=p=>{if(p.indexOf(this.formatSeparator)<0){const w=_t(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...a,...n,interpolationkey:p}):w}const y=p.split(this.formatSeparator),b=y.shift().trim(),O=y.join(this.formatSeparator).trim();return this.format(_t(n,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),O,r,{...a,...n,interpolationkey:b})};this.resetRegExp();const f=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,h=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>u(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?u(this.escape(p)):u(p)}].forEach(p=>{for(s=0;o=p.regex.exec(e);){const y=o[1].trim();if(i=c(y),i===void 0)if(typeof f=="function"){const O=f(e,o,a);i=typeof O=="string"?O:""}else if(a&&Object.prototype.hasOwnProperty.call(a,y))i="";else if(h){i=o[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),i="";else typeof i!="string"&&!this.useRawValueToEscape&&(i=wt(i));const b=p.safeValue(i);if(e=e.replace(o[0],b),h?(p.regex.lastIndex+=i.length,p.regex.lastIndex-=o[0].length):p.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,i;function s(l,u){const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let h=`{${f[1]}`;l=f[0],h=this.interpolate(h,i);const g=h.match(/'/g),p=h.match(/"/g);(g&&g.length%2===0&&!p||p.length%2!==0)&&(h=h.replace(/'/g,'"'));try{i=JSON.parse(h),u&&(i={...u,...i})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${c}${h}`}return delete i.defaultValue,l}for(;a=this.nestingRegexp.exec(e);){let l=[];i={...r},i=i.replace&&typeof i.replace!="string"?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let u=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const c=a[1].split(this.formatSeparator).map(f=>f.trim());a[1]=c.shift(),l=c,u=!0}if(o=n(s.call(this,a[1].trim(),i),i),o&&a[0]===e&&typeof o!="string")return o;typeof o!="string"&&(o=wt(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),u&&(o=l.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}function ka(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(i=>{if(!i)return;const[s,...l]=i.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,"");n[s.trim()]||(n[s.trim()]=u),u==="false"&&(n[s.trim()]=!1),u==="true"&&(n[s.trim()]=!0),isNaN(u)||(n[s.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:n}}function W(t){const e={};return function(r,a,o){const i=a+JSON.stringify(o);let s=e[i];return s||(s=t(be(a),o),e[i]=s),s(r)}}class ja{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=N.create("formatter"),this.options=e,this.formats={number:W((n,r)=>{const a=new Intl.NumberFormat(n,{...r});return o=>a.format(o)}),currency:W((n,r)=>{const a=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>a.format(o)}),datetime:W((n,r)=>{const a=new Intl.DateTimeFormat(n,{...r});return o=>a.format(o)}),relativetime:W((n,r)=>{const a=new Intl.RelativeTimeFormat(n,{...r});return o=>a.format(o,r.range||"day")}),list:W((n,r)=>{const a=new Intl.ListFormat(n,{...r});return o=>a.format(o)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=W(n)}format(e,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((s,l)=>{const{formatName:u,formatOptions:c}=ka(l);if(this.formats[u]){let f=s;try{const h=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},g=h.locale||h.lng||a.locale||a.lng||r;f=this.formats[u](s,g,{...c,...a,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${u}`);return s},e)}}function Pa(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class Aa extends Oe{constructor(e,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=N.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,a.backend,a)}queueLoad(e,n,r,a){const o={},i={},s={},l={};return e.forEach(u=>{let c=!0;n.forEach(f=>{const h=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?i[h]===void 0&&(i[h]=!0):(this.state[h]=1,c=!1,i[h]===void 0&&(i[h]=!0),o[h]===void 0&&(o[h]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(s[u]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const a=e.split("|"),o=a[0],i=a[1];n&&this.emit("failedLoading",o,i,n),r&&this.store.addResourceBundle(o,i,r),this.state[e]=n?-1:2;const s={};this.queue.forEach(l=>{ba(l.loaded,[o],i),Pa(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{s[u][f]===void 0&&(s[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:a,wait:o,callback:i});return}this.readingCalls++;const s=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,a+1,o*2,i)},o);return}i(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>s(null,c)).catch(s):s(null,u)}catch(u){s(u)}return}return l(e,n,s)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(e,n,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(i=>{this.loadOne(i)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(i,s)=>{i&&this.logger.warn(`${n}loading namespace ${o} for language ${a} failed`,i),!i&&s&&this.logger.log(`${n}loaded namespace ${o} for language ${a}`,s),this.loaded(e,i,s)})}saveMissing(e,n,r,a,o){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...i,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,n,r,a,l):c=u(e,n,r,a),c&&typeof c.then=="function"?c.then(f=>s(null,f)).catch(s):s(null,c)}catch(c){s(c)}else u(e,n,r,a,s,l)}!e||!e[0]||this.store.addResource(e[0],n,r,a)}}}function Ht(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(a=>{n[a]=r[a]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,r)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Tt(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ce(){}function Na(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class ie extends Oe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Tt(e),this.services={},this.logger=N,this.modules={external:[]},Na(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const a=Ht();this.options={...a,...this.options,...Tt(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function o(c){return c?typeof c=="function"?new c:c:null}if(!this.options.isClone){this.modules.logger?N.init(o(this.modules.logger),this.options):N.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=ja);const f=new Ct(this.options);this.store=new St(this.options.resources,this.options);const h=this.services;h.logger=N,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new Ra(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(h.formatter=o(c),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new La(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Aa(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(g){for(var p=arguments.length,y=new Array(p>1?p-1:0),b=1;b<p;b++)y[b-1]=arguments[b];e.emit(g,...y)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new we(this.services,this.options),this.translator.on("*",function(g){for(var p=arguments.length,y=new Array(p>1?p-1:0),b=1;b<p;b++)y[b-1]=arguments[b];e.emit(g,...y)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=ce),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=ee(),u=()=>{const c=(f,h)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ce;const a=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],i=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};a?i(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>i(l)),this.options.preload&&this.options.preload.forEach(s=>i(s)),this.services.backendConnector.load(o,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(e,n,r){const a=ee();return e||(e=this.languages),n||(n=this.options.ns),r||(r=ce),this.services.backendConnector.reload(e,n,o=>{a.resolve(),r(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&yn.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const a=ee();this.emit("languageChanging",e);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{i(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),a}getFixedT(e,n,r){var a=this;const o=function(i,s){let l;if(typeof s!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=a.options.overloadTranslationOptionHandler([i,s].concat(c))}else l={...s};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix=l.keyPrefix||r||o.keyPrefix;const h=a.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(i)?g=i.map(p=>`${l.keyPrefix}${h}${p}`):g=l.keyPrefix?`${l.keyPrefix}${h}${i}`:i,a.t(g,l)};return typeof e=="string"?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const i=(s,l)=>{const u=this.services.backendConnector.state[`${s}|${l}`];return u===-1||u===2};if(n.precheck){const s=n.precheck(this,i);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(r,e)&&(!a||i(o,e)))}loadNamespaces(e,n){const r=ee();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=ee();typeof e=="string"&&(e=[e]);const a=this.options.preload||[],o=e.filter(i=>a.indexOf(i)<0);return o.length?(this.options.preload=a.concat(o),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Ct(Ht());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new ie(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ce;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new ie(a);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new St(this.store.data,a),o.services.resourceStore=o.store),o.translator=new we(o.services,a),o.translator.on("*",function(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];o.emit(s,...u)}),o.init(a,n),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const z=ie.createInstance();z.createInstance=ie.createInstance;z.createInstance;z.dir;z.init;z.loadResources;z.reloadResources;z.use;z.changeLanguage;z.getFixedT;z.t;z.exists;z.setDefaultNamespace;z.hasLoadedNamespace;z.loadNamespaces;z.loadLanguages;let G;const Ma=()=>G,Ia=t=>{L.onLanguageChange(e=>t.changeLanguage(e))};class $a{constructor(){this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}use(e){return z.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach(([n,r])=>{this._defaultResources[n]=r}),this}withResource(e,n){return this._resources[e]=n,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach(([n,r])=>{e[n]={translation:r}}),Object.entries(this._resources).forEach(([n,r])=>{n in e?e[n].translation=Object.assign(Object.assign({},e[n].translation),r):e[n]={translation:r}}),e}build(){return G=z.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},(e,n)=>{var r;if(e){console.error("[rmg-runtime] unexpected error occurs while initialising i18n",e);return}document.title=n(this._appName),document.documentElement.lang=(r=this._lng)!==null&&r!==void 0?r:"en"}),G.on("languageChanged",e=>{document.title=G.t(this._appName),document.documentElement.lang=e}),Ia(G),G}}var vn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(c){try{u(r.next(c))}catch(f){i(f)}}function l(c){try{u(r.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):a(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};let bn=!1;const Ba=()=>vn(void 0,void 0,void 0,function*(){yield R.loadWithTimeout(),L.isAnalyticsQADone()?L.isAllowAnalytics()&&(console.log("[rmg-runtime] User has previously allowed GA"),pe.init()):A.isStandaloneWindow()&&R.getComponent()!=="rmg-home"&&(console.warn("[rmg-runtime] App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),pe.init()),bn=!0}),Da=()=>vn(void 0,void 0,void 0,function*(){let t=0;for(;t<=10&&!bn;)yield nn(1e3),t+=1}),C={ready:Da,getAppName:R.getComponent,getAppVersion:R.getVersion,getEnv:R.getEnvironment,getInstance:R.getInstance,event:pe.customEvent,isStandaloneWindow:A.isStandaloneWindow,injectUITools:A.injectUITools,openApp:A.openApp,onAppOpen:A.onAppOpen,closeApp:A.closeApp,onAppClose:A.onAppClose,updateUrl:A.updateUrl,onUrlUpdate:A.onUrlUpdate,toggleNavMenu:A.toggleNavMenu,postEvent:H.postEvent,onMessage:H.onMessage,setLanguage:L.setLanguage,getLanguage:L.getLanguage,onLanguageChange:L.onLanguageChange,setColourMode:L.setColourMode,getColourMode:L.getColourMode,onColourModeChange:L.onColourModeChange,isAnalyticsQADone:L.isAnalyticsQADone,isAllowAnalytics:L.isAllowAnalytics,allowAnalytics:L.allowAnalytics,storage:{on:U.on,get:U.get,getAll:U.getAll,set:U.set,remove:U.remove,clear:U.clear},getMsSinceStartUp:ca.getMsSinceStartUp,I18nBuilder:$a,getI18nInstance:Ma};Ba().then();window.rmgRuntime=C;var wn={exports:{}},xn={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K=m;function Fa(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ua=typeof Object.is=="function"?Object.is:Fa,Va=K.useState,Wa=K.useEffect,Ga=K.useLayoutEffect,Ka=K.useDebugValue;function Ja(t,e){var n=e(),r=Va({inst:{value:n,getSnapshot:e}}),a=r[0].inst,o=r[1];return Ga(function(){a.value=n,a.getSnapshot=e,Ie(a)&&o({inst:a})},[t,n,e]),Wa(function(){return Ie(a)&&o({inst:a}),t(function(){Ie(a)&&o({inst:a})})},[t]),Ka(n),n}function Ie(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ua(t,n)}catch(r){return!0}}function Ya(t,e){return e()}var qa=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ya:Ja;xn.useSyncExternalStore=K.useSyncExternalStore!==void 0?K.useSyncExternalStore:qa;wn.exports=xn;var Qa=wn.exports,Sn={exports:{}},On={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=m,Za=Qa;function Xa(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eo=typeof Object.is=="function"?Object.is:Xa,to=Za.useSyncExternalStore,no=Ce.useRef,ro=Ce.useEffect,ao=Ce.useMemo,oo=Ce.useDebugValue;On.useSyncExternalStoreWithSelector=function(t,e,n,r,a){var o=no(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=ao(function(){function l(g){if(!u){if(u=!0,c=g,g=r(g),a!==void 0&&i.hasValue){var p=i.value;if(a(p,g))return f=p}return f=g}if(p=f,eo(c,g))return p;var y=r(g);return a!==void 0&&a(p,y)?p:(c=g,f=y)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,a]);var s=to(t,o[0],o[1]);return ro(function(){i.hasValue=!0,i.value=s},[s]),oo(s),s};Sn.exports=On;var io=Sn.exports;function so(t){t()}let Cn=so;const lo=t=>Cn=t,uo=()=>Cn,Et=Symbol.for("react-redux-context"),Rt=typeof globalThis<"u"?globalThis:{};function co(){var t;if(!m.createContext)return{};const e=(t=Rt[Et])!=null?t:Rt[Et]=new Map;let n=e.get(m.createContext);return n||(n=m.createContext(null),e.set(m.createContext,n)),n}const $=co();function ut(t=$){return function(){return m.useContext(t)}}const zn=ut(),ho=()=>{throw new Error("uSES not initialized!")};let _n=ho;const fo=t=>{_n=t},po=(t,e)=>t===e;function go(t=$){const e=t===$?zn:ut(t);return function(r,a={}){const{equalityFn:o=po,stabilityCheck:i=void 0,noopCheck:s=void 0}=typeof a=="function"?{equalityFn:a}:a,{store:l,subscription:u,getServerState:c,stabilityCheck:f,noopCheck:h}=e();m.useRef(!0);const g=m.useCallback({[r.name](y){return r(y)}}[r.name],[r,f,i]),p=_n(u.addNestedSub,l.getState,c||l.getState,g,o);return m.useDebugValue(p),p}}const mo=go();var v={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ct=Symbol.for("react.element"),ht=Symbol.for("react.portal"),ze=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),He=Symbol.for("react.profiler"),Te=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),yo=Symbol.for("react.server_context"),Re=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),vo=Symbol.for("react.offscreen"),Hn;Hn=Symbol.for("react.module.reference");function j(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ct:switch(t=t.type,t){case ze:case He:case _e:case Le:case ke:return t;default:switch(t=t&&t.$$typeof,t){case yo:case Ee:case Re:case Pe:case je:case Te:return t;default:return e}}case ht:return e}}}v.ContextConsumer=Ee;v.ContextProvider=Te;v.Element=ct;v.ForwardRef=Re;v.Fragment=ze;v.Lazy=Pe;v.Memo=je;v.Portal=ht;v.Profiler=He;v.StrictMode=_e;v.Suspense=Le;v.SuspenseList=ke;v.isAsyncMode=function(){return!1};v.isConcurrentMode=function(){return!1};v.isContextConsumer=function(t){return j(t)===Ee};v.isContextProvider=function(t){return j(t)===Te};v.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ct};v.isForwardRef=function(t){return j(t)===Re};v.isFragment=function(t){return j(t)===ze};v.isLazy=function(t){return j(t)===Pe};v.isMemo=function(t){return j(t)===je};v.isPortal=function(t){return j(t)===ht};v.isProfiler=function(t){return j(t)===He};v.isStrictMode=function(t){return j(t)===_e};v.isSuspense=function(t){return j(t)===Le};v.isSuspenseList=function(t){return j(t)===ke};v.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ze||t===He||t===_e||t===Le||t===ke||t===vo||typeof t=="object"&&t!==null&&(t.$$typeof===Pe||t.$$typeof===je||t.$$typeof===Te||t.$$typeof===Ee||t.$$typeof===Re||t.$$typeof===Hn||t.getModuleId!==void 0)};v.typeOf=j;function bo(){const t=uo();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!a||e===null||(a=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const Lt={notify(){},get:()=>[]};function wo(t,e){let n,r=Lt;function a(f){return l(),r.subscribe(f)}function o(){r.notify()}function i(){c.onStateChange&&c.onStateChange()}function s(){return!!n}function l(){n||(n=e?e.addNestedSub(i):t.subscribe(i),r=bo())}function u(){n&&(n(),n=void 0,r.clear(),r=Lt)}const c={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:i,isSubscribed:s,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const xo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",So=xo?m.useLayoutEffect:m.useEffect;function Oo({store:t,context:e,children:n,serverState:r,stabilityCheck:a="once",noopCheck:o="once"}){const i=m.useMemo(()=>{const u=wo(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:a,noopCheck:o}},[t,r,a,o]),s=m.useMemo(()=>t.getState(),[t]);So(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const l=e||$;return m.createElement(l.Provider,{value:i},n)}function Tn(t=$){const e=t===$?zn:ut(t);return function(){const{store:r}=e();return r}}const Co=Tn();function zo(t=$){const e=t===$?Co:Tn(t);return function(){return e().dispatch}}const _o=zo();fo(io.useSyncExternalStoreWithSelector);lo(en.unstable_batchedUpdates);const Ho="modulepreload",To=function(t){return"/rmg-templates/"+t},kt={},dt=function(e,n,r){if(!n||n.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=To(o),o in kt)return;kt[o]=!0;const i=o.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(!!r)for(let c=a.length-1;c>=0;c--){const f=a[c];if(f.href===o&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":Ho,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};var En=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(a,o){return a[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),a=this.__entries__[r];return a&&a[1]},e.prototype.set=function(n,r){var a=t(this.__entries__,n);~a?this.__entries__[a][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,a=t(r,n);~a&&r.splice(a,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var a=0,o=this.__entries__;a<o.length;a++){var i=o[a];n.call(r,i[1],i[0])}},e}()}(),Ge=typeof window<"u"&&typeof document<"u"&&window.document===document,xe=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Eo=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(xe):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Ro=2;function Lo(t,e){var n=!1,r=!1,a=0;function o(){n&&(n=!1,t()),r&&s()}function i(){Eo(o)}function s(){var l=Date.now();if(n){if(l-a<Ro)return;r=!0}else n=!0,r=!1,setTimeout(i,e);a=l}return s}var ko=20,jo=["top","right","bottom","left","width","height","size","weight"],Po=typeof MutationObserver<"u",Ao=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Lo(this.refresh.bind(this),ko)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Ge||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Po?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Ge||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,a=jo.some(function(o){return!!~r.indexOf(o)});a&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Rn=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},J=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||xe},Ln=Ae(0,0,0,0);function Se(t){return parseFloat(t)||0}function jt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,a){var o=t["border-"+a+"-width"];return r+Se(o)},0)}function No(t){for(var e=["top","right","bottom","left"],n={},r=0,a=e;r<a.length;r++){var o=a[r],i=t["padding-"+o];n[o]=Se(i)}return n}function Mo(t){var e=t.getBBox();return Ae(0,0,e.width,e.height)}function Io(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Ln;var r=J(t).getComputedStyle(t),a=No(r),o=a.left+a.right,i=a.top+a.bottom,s=Se(r.width),l=Se(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=jt(r,"left","right")+o),Math.round(l+i)!==n&&(l-=jt(r,"top","bottom")+i)),!Bo(t)){var u=Math.round(s+o)-e,c=Math.round(l+i)-n;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return Ae(a.left,a.top,s,l)}var $o=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof J(t).SVGGraphicsElement}:function(t){return t instanceof J(t).SVGElement&&typeof t.getBBox=="function"}}();function Bo(t){return t===J(t).document.documentElement}function Do(t){return Ge?$o(t)?Mo(t):Io(t):Ln}function Fo(t){var e=t.x,n=t.y,r=t.width,a=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,i=Object.create(o.prototype);return Rn(i,{x:e,y:n,width:r,height:a,top:n,right:e+r,bottom:a+n,left:e}),i}function Ae(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Uo=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ae(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Do(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Vo=function(){function t(e,n){var r=Fo(n);Rn(this,{target:e,contentRect:r})}return t}(),Wo=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new En,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof J(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Uo(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof J(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Vo(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),kn=typeof WeakMap<"u"?new WeakMap:new En,jn=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ao.getInstance(),r=new Wo(e,n,this);kn.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){jn.prototype[t]=function(){var e;return(e=kn.get(this))[t].apply(e,arguments)}});var Go=function(){return typeof xe.ResizeObserver<"u"?xe.ResizeObserver:jn}();window.ResizeObserver||(window.ResizeObserver=Go);var Ke=globalThis&&globalThis.__assign||function(){return Ke=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Ke.apply(this,arguments)},Ko=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Au=function(t){var e=t.isOpen,n=t.onClose,r=t.children,a=t.sx,o=t.size,i=t.zIndex,s=Ko(t,["isOpen","onClose","children","sx","size","zIndex"]),l=k("RmgAppClip",{size:o,zIndex:i!=null?i:1500}),u=m.useRef(null);return Bn({ref:u,handler:n}),d.jsx(Dn,{children:d.jsxs(fe.div,Ke({className:e?"show-app-clip":"",sx:l},s,{children:[d.jsx("div",{className:"rmg-app-clip__overlay"}),d.jsx(Fn,{isDisabled:!e,children:d.jsx("div",{className:"rmg-app-clip__container",children:d.jsx(fe.section,{ref:u,role:"dialog",className:"rmg-app-clip__content",sx:a,children:r})})})]}))})},Je=globalThis&&globalThis.__assign||function(){return Je=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Je.apply(this,arguments)},Jo=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Yo=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o},qo=function(t,e){var n=t.validator,r=t.onDebouncedChange,a=t.delay,o=t.optionList,i=t.defaultValue;t.onChange;var s=Jo(t,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),l=m.useRef(null),u=Zt(l,e),c=m.useRef("datalist-"+new Date().valueOf()),f=Yo(m.useState(!1),2),h=f[0],g=f[1],p=m.useRef();m.useEffect(function(){l.current&&(l.current.value=(i==null?void 0:i.toString())||"")},[i]);var y=function(O){var w=O.target.value;window.clearTimeout(p.current),n&&g(!n(w)),p.current=window.setTimeout(function(){r==null||r(w),p.current=void 0},a!=null?a:500)},b=function(O){var w=O.target.value;p.current!==void 0&&(window.clearTimeout(p.current),n&&g(!n(w)),r==null||r(w),p.current=void 0)};return d.jsxs(d.Fragment,{children:[d.jsx(Un,Je({ref:u,list:c.current,variant:"flushed",size:"sm",h:6,onChange:y,onBlur:b,isInvalid:h},s)),o&&d.jsx("datalist",{id:c.current,children:o==null?void 0:o.map(function(O,w){return d.jsx("option",{children:O},w)})})]})},Nu=m.forwardRef(qo);globalThis&&globalThis.__read;var Pt=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o},At=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function Mu(t){var e=t.selections,n=t.defaultValue,r=t.onChange,a=t.multiSelect,o=Pt(m.useState(n),2),i=o[0],s=o[1];m.useEffect(function(){n.toString()&&s(n)},[n.toString()]);var l=function(u){if(a){var c=i,f=c.includes(u)?c.filter(function(h){return h!==u}):At(At([],Pt(c),!1),[u],!1);s(f),r==null||r(f)}else s(u),r==null||r(u)};return d.jsx(Vn,{size:"xs",isAttached:!0,colorScheme:"primary",variant:"outline",children:e.map(function(u,c){var f=typeof i=="object"&&i.includes(u.value)||i===u.value,h=c!==e.length-1&&!f?"-px":void 0;return d.jsx(Ue,{role:"checkbox","aria-checked":f,variant:f?"solid":"outline",mr:h,flex:1,isDisabled:u.disabled,onClick:function(){return l(u.value)},children:u.label},u.value.toString())})})}var re=globalThis&&globalThis.__assign||function(){return re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},re.apply(this,arguments)},Qo=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Iu=function(t){var e=t.children,n=t.sx,r=Qo(t,["children","sx"]),a=k("RmgCard");return d.jsx(D,re({sx:re(re({},a),n)},r,{children:e}))},Nt=globalThis&&globalThis.__assign||function(){return Nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Nt.apply(this,arguments)},Ye=globalThis&&globalThis.__assign||function(){return Ye=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Ye.apply(this,arguments)},Zo=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Xo=function(t,e){var n=t.onDebouncedChange,r=t.defaultValue;t.onChange;var a=Zo(t,["onDebouncedChange","defaultValue","onChange"]),o=m.useRef(null),i=Zt(o,e),s=m.useRef();m.useEffect(function(){o.current&&(o.current.value=(r==null?void 0:r.toString())||"")},[r]);var l=function(u){var c=u.target.value;window.clearTimeout(s.current),s.current=window.setTimeout(function(){n==null||n(c)},500)};return d.jsx(Wn,Ye({ref:i,variant:"flushed",size:"sm",resize:"none",onChange:l},a))},$u=m.forwardRef(Xo),Mt=globalThis&&globalThis.__assign||function(){return Mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Mt.apply(this,arguments)};globalThis&&globalThis.__rest;var ei=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o},ti=function(t){switch(t){case I.DEV:return"red";case I.UAT:return"orange";case I.PRD:return"green"}};function ni(t){var e=t.environment,n=t.version,r=t.popoverHeader,a=t.popoverBody,o=ei(m.useState(!1),2),i=o[0],s=o[1];return d.jsxs(Gn,{isOpen:i,onOpen:function(){return r&&s(!0)},onClose:function(){return s(!1)},children:[d.jsx(Kn,{children:d.jsx(Jn,{ml:1,colorScheme:ti(e),title:"".concat(e,": ").concat(n),cursor:r?"pointer":"help",children:e===I.PRD?n:e})}),d.jsxs(Yn,{children:[d.jsx(qn,{}),d.jsx(Qn,{}),d.jsx(Zn,{children:r}),d.jsx(Xn,{children:a})]})]})}var ri=function(t,e,n){var r=new Blob([n],{type:e});ai(t,r)},ai=function(t,e){var n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},oi=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o};function ii(t){var e=t.cancelRef,n=t.isOpen,r=t.onClose,a=oi(m.useState(!1),2),o=a[0],i=a[1],s=function(){i(!0);var l=C.storage.getAll(),u=C.getAppName(),c="".concat(u,"_BACKUP_").concat(new Date().toISOString(),".json");ri(c,"application/json",JSON.stringify(l)),C.storage.clear(),setTimeout(function(){window.location.reload()},2e3)};return d.jsxs(er,{leastDestructiveRef:e,isOpen:n,onClose:r,children:[d.jsx(tr,{}),d.jsxs(nr,{children:[d.jsx(rr,{children:"Warning "}),d.jsx(ar,{}),d.jsxs(or,{sx:{"& p":{my:1}},children:[d.jsx(B,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),d.jsx(B,{children:""}),d.jsx(B,{children:""})]}),d.jsxs(ir,{children:[d.jsx(Ue,{ref:e,onClick:r,children:"Cancel"}),d.jsx(Ue,{isLoading:o,colorScheme:"red",ml:3,onClick:s,children:"Confirm and reload"})]})]})]})}var ae=globalThis&&globalThis.__assign||function(){return ae=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ae.apply(this,arguments)},si=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},li=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o};function ui(t){var e=t.error,n=t.errorInfo,r=t.allowReset,a=t.sx,o=si(t,["error","errorInfo","allowReset","sx"]),i=k("RmgErrorBoundary"),s=Xt("primary.500","primary.300"),l=li(m.useState(!1),2),u=l[0],c=l[1],f=m.useRef(null),h=function(y){return d.jsx(vt,{color:s,role:"button",onClick:function(){return c(!0)},children:y})},g=C.getAppName(),p=d.jsx(vt,{color:s,href:"https://github.com/railmapgen/".concat(g,"/issues"),isExternal:!0,children:"GitHub Issue"});return d.jsxs(sr,ae({status:"error",sx:ae(ae({},i),a)},o,{children:[d.jsx(lr,{}),d.jsx(ur,{children:"Something went wrong!"}),d.jsxs(cr,{children:[d.jsxs(B,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",r?d.jsxs(d.Fragment,{children:[" or ",h("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",p," with the details shown below."]}),d.jsxs(B,{children:["",r?d.jsxs(d.Fragment,{children:["",h("")]}):""," ",p,"  Issue "]}),d.jsxs(B,{children:["",r?d.jsxs(d.Fragment,{children:["",h("")]}):""," ",p,"  Issue "]}),d.jsxs(B,{as:"details",children:[e==null?void 0:e.toString(),d.jsx("br",{}),n==null?void 0:n.componentStack]}),r&&d.jsx(ii,{cancelRef:f,isOpen:u,onClose:function(){return c(!1)}})]})]}))}var ci=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=globalThis&&globalThis.__assign||function(){return qe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},qe.apply(this,arguments)},hi=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},$e=function(t){ci(e,t);function e(n){var r=t.call(this,n)||this;return r.state={hasError:!1,error:null,errorInfo:null},r}return e.getDerivedStateFromError=function(){return{hasError:!0}},e.prototype.componentDidCatch=function(n,r){this.setState({error:n,errorInfo:r})},e.prototype.render=function(){var n=this.props,r=n.children,a=n.suspenseFallback,o=n.allowReset,i=hi(n,["children","suspenseFallback","allowReset"]);return this.state.hasError?d.jsx(ui,qe({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:o},i)):a?d.jsx(m.Suspense,{fallback:a,children:r}):r},e}(Cr.Component),Qe=globalThis&&globalThis.__assign||function(){return Qe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Qe.apply(this,arguments)},di=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Bu=function(t){var e=t.label,n=t.children;t.width;var r=t.noLabel,a=t.oneLine,o=t.className,i=di(t,["label","children","width","noLabel","oneLine","className"]),s=k("RmgLabel");return d.jsxs(hr,Qe({className:"".concat(a?"rmg-label__one-line":""," ").concat(o!=null?o:""),"aria-label":e,sx:s},i,{children:[!r&&d.jsx(dr,{size:"xs",children:e}),n]}))},Ze=globalThis&&globalThis.__assign||function(){return Ze=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Ze.apply(this,arguments)},fi=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},It=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o};function Du(t){var e=t.defaultValue,n=t.options,r=t.disabledOptions,a=fi(t,["defaultValue","options","disabledOptions"]),o=m.useRef(null);m.useEffect(function(){o.current&&(o.current.value=(e==null?void 0:e.toString())||"")},[e]);var i=function(s,l){return d.jsx("option",{value:s,disabled:(r==null?void 0:r.find(function(u){return u.toString()===s}))!==void 0,children:l},s)};return d.jsx(fr,Ze({ref:o,variant:"flushed",size:"sm",h:6},a,{children:Object.entries(n).map(function(s){var l=It(s,2),u=l[0],c=l[1];return typeof c=="object"?d.jsx("optgroup",{label:u,children:Object.entries(c).map(function(f){var h=It(f,2),g=h[0],p=h[1];return i(g,p)})},u):i(u,c)})}))}globalThis&&globalThis.__read;globalThis&&globalThis.__read;var Be=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o},$t=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},pi=function(t,e){e===void 0&&(e=500);var n=Be(m.useState(!0),2),r=n[0],a=n[1],o=m.useRef([]),i=m.useRef(),s=m.useCallback(function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];if(!r){o.current=l;return}a(!1),o.current=[],t.apply(void 0,$t([],Be(l),!1))},[r,t]);return m.useEffect(function(){if(!r)return i.current=window.setTimeout(function(){a(!0),o.current.length&&t.apply(void 0,$t([],Be(o.current),!1))},e),function(){window.clearTimeout(i.current)}},[r,e]),s},gi=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o};function Fu(t){var e=t.defaultValue,n=t.min,r=t.max,a=t.step,o=t.onThrottledChange,i=t.leftIcon,s=t.rightIcon,l=k("RmgThrottledSlider"),u=gi(m.useState(e!=null?e:0),2),c=u[0],f=u[1],h=pi(o!=null?o:function(){},500),g=function(){var y=Math.min(c+(a!=null?a:1)*10,r!=null?r:100);o==null||o(y),f(y)},p=function(){var y=Math.max(c-(a!=null?a:1)*10,n!=null?n:0);o==null||o(y),f(y)};return d.jsxs(D,{sx:l,children:[i&&d.jsx(bt,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:i,onClick:p}),d.jsxs(pr,{value:c,min:n,max:r,step:a,onChange:function(y){h(y),f(y)},children:[d.jsx(gr,{children:d.jsx(mr,{})}),d.jsx(yr,{})]}),s&&d.jsx(bt,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:s,onClick:g})]})}var S=globalThis&&globalThis.__assign||function(){return S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},S.apply(this,arguments)},q=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},mi=function(t){var e=t.sx,n=t.className,r=q(t,["sx","className"]),a=k("RmgWindow");return d.jsx(D,S({className:"rmg-window ".concat(n!=null?n:""),sx:S(S({},a),e)},r))},ft=function(t){var e=t.isAppClipHeader,n=t.sx,r=t.className,a=q(t,["isAppClipHeader","sx","className"]),o=k("RmgWindowHeader");return d.jsx(D,S({className:"rmg-window__header ".concat(e?"rmg-window__app-clip-header":""," ").concat(r!=null?r:""),sx:S(S({},o),n)},a))},Uu=function(t){var e=t.sx,n=t.className,r=q(t,["sx","className"]),a=k("RmgPage");return d.jsx(D,S({className:"rmg-page ".concat(n!=null?n:""),sx:S(S({},a),e)},r))},Vu=function(t){var e=t.sx,n=t.className,r=q(t,["sx","className"]),a=k("RmgPageHeader");return d.jsx(D,S({className:"rmg-page__header ".concat(n!=null?n:""),sx:S(S({},a),e)},r))},Wu=function(t){var e=t.sx,n=t.className,r=q(t,["sx","className"]),a=k("RmgSection");return d.jsx(fe.section,S({className:"rmg-section ".concat(n!=null?n:""),sx:S(S({},a),e)},r))},Gu=function(t){var e=t.sx,n=t.className,r=q(t,["sx","className"]),a=k("RmgSectionHeader");return d.jsx(fe.div,S({className:"rmg-section__header ".concat(n!=null?n:""),sx:S(S({},a),e)},r))},Bt=globalThis&&globalThis.__assign||function(){return Bt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Bt.apply(this,arguments)};globalThis&&globalThis.__rest;var oe=globalThis&&globalThis.__assign||function(){return oe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},oe.apply(this,arguments)},yi=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},De=function(t){var e=t.isIndeterminate,n=t.value,r=t.sx,a=yi(t,["isIndeterminate","value","sx"]),o=Xt("primary.500","primary.300"),i=k("RmgLoader");return d.jsxs(D,{sx:oe(oe({},i),r),children:[d.jsx("div",{className:"rmg-loader__backdrop"}),d.jsx(vr,oe({isIndeterminate:e,value:n,color:o},a))]})};globalThis&&globalThis.__read;globalThis&&globalThis.__spreadArray;var Dt=globalThis&&globalThis.__assign||function(){return Dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Dt.apply(this,arguments)};globalThis&&globalThis.__rest;var Ft=function(t){return t==="dark"?"primary.300":"primary.500"},Fe={variants:{flushed:function(t){var e=t.theme,n=t.colorMode;return{field:{_focusVisible:{borderColor:Ft(n),boxShadow:"0px 1px 0px 0px ".concat(te(e,Ft(n)))}}}}}},vi={defaultProps:{colorScheme:"primary"}},Ut={defaultProps:{colorScheme:"primary"}},bi={baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},wi={baseStyle:function(t){var e=t.colorMode,n=t.zIndex;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:n,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:n},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:e==="light"?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},xi={baseStyle:function(t){var e=t.colorMode;return{p:1,my:1,w:"100%",borderRadius:2,bg:e==="dark"?"gray.700":"gray.50",boxShadow:"lg"}}},Si={baseStyle:function(t){var e=t.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:e==="dark"?"whiteAlpha.400":"blackAlpha.200",backgroundColor:e==="dark"?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},Oi={baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},Ci={baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},zi={baseStyle:{display:"flex",flexDirection:"column",m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{flexDirection:"row",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},_i={baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},Hi={baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},M=function(t){return t==="dark"?"primary.300":"primary.500"},Ti={baseStyle:function(t){var e=t.theme,n=t.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:M(n),boxShadow:"0px 1px 0px 0px ".concat(te(e,M(n)))},_focus:{borderColor:M(n),boxShadow:"0px 1px 0px 0px ".concat(te(e,M(n)))},_focusVisible:{borderColor:M(n),boxShadow:"0px 1px 0px 0px ".concat(te(e,M(n)))},"&.active":{borderColor:M(n),boxShadow:"0px 1px 0px 0px ".concat(te(e,M(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:n==="dark"?"whiteAlpha.200":"gray.100"},_active:{bg:n==="dark"?"whiteAlpha.300":"gray.200"}}}}}},Xe=globalThis&&globalThis.__assign||function(){return Xe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Xe.apply(this,arguments)},Ei={overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap"},Ri={baseStyle:function(t){var e=t.noWrap;return Xe({h:6,fontSize:"sm"},e?Ei:{})}},Li={baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden",background:"inherit"}},ki={baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},ji={baseStyle:{position:"relative",background:"inherit"}},Pi={baseStyle:{display:"flex",alignItems:"center",flexWrap:"wrap",position:"sticky",top:0,background:"inherit",px:2,py:1,zIndex:5}},Ai={baseStyle:function(t){var e=t.colorMode,n=t.width,r=t.alwaysOverlay;return{height:"100%",position:r?"absolute":{base:"absolute",lg:"relative"},right:r?0:{base:0,lg:"unset"},background:e==="light"?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},Ni={baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},Mi={baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden",background:"inherit"}},Ii={baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}},$i={Input:Fe,Checkbox:Ut,Select:Fe,Slider:vi,Switch:Ut,Textarea:Fe,RmgAgGrid:bi,RmgAppClip:wi,RmgCard:xi,RmgDataTable:Si,RmgEnrichedButton:Oi,RmgErrorBoundary:Ci,RmgLabel:zi,RmgLineBadge:_i,RmgLoader:Hi,RmgMultiSelect:Ti,RmgOutput:Ri,RmgPage:Li,RmgPageHeader:ki,RmgSection:ji,RmgSectionHeader:Pi,RmgSidePanel:Ai,RmgThrottledSlider:Ni,RmgWindow:Mi,RmgWindowHeader:Ii},et=globalThis&&globalThis.__assign||function(){return et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},et.apply(this,arguments)},Vt="chakra-ui-color-mode",Bi=function(){var t=C.getColourMode()==="system";return C.isStandaloneWindow()&&(t?window.localStorage.removeItem(Vt):window.localStorage.setItem(Vt,C.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}},Di={primary:et({},br.colors.teal)},Fi={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},Ui=function(){return wr({config:Bi(),colors:Di,styles:Fi,components:$i})},Vi=function(t){var e=t.children;return d.jsx(xr,{theme:Ui(),children:d.jsx(Wi,{children:e})})},Wi=function(t){var e=t.children,n=Sr().setColorMode,r=Or();return m.useEffect(function(){console.log("[rmg-components] RMG theme is initialised with",r.config),C.onColourModeChange(function(a){if(a==="system"){var o=window.matchMedia("(prefers-color-scheme: dark)").matches;n(o?"dark":"light")}else n(a)})},[n]),d.jsx(d.Fragment,{children:e})};const Pn=()=>{const t=C.getEnv(),e=C.getAppVersion();return d.jsx(ni,{environment:t,version:e})},Gi=()=>{const{t}=nt();return d.jsxs(ft,{children:[d.jsx(tt,{as:"h4",size:"md",children:t("RMG Templates")}),d.jsx(Pn,{})]})},Ki=()=>{const{t}=nt();return d.jsxs(ft,{children:[d.jsx(tt,{as:"h4",size:"md",children:t("RMG Templates")+" - "+t("Upload")}),d.jsx(Pn,{})]})},Ji=()=>{const{t}=nt();return d.jsx(ft,{isAppClipHeader:!0,children:d.jsx(tt,{as:"h4",size:"md",children:t("RMG Templates")+" - "+t("Selector")})})},Yi=m.lazy(()=>dt(()=>import("./templates-view-d17793a7.js"),["assets/templates-view-d17793a7.js","assets/chakra-0292837a.js","assets/react-61f43b90.js","assets/templates-grid-b05f9918.js","assets/use-templates-f45db4c5.js"])),qi=m.lazy(()=>dt(()=>import("./app-clip-view-d0acd2f3.js"),["assets/app-clip-view-d0acd2f3.js","assets/chakra-0292837a.js","assets/react-61f43b90.js","assets/templates-grid-b05f9918.js","assets/use-templates-f45db4c5.js"])),Qi=m.lazy(()=>dt(()=>import("./ticket-view-cbfaed66.js"),["assets/ticket-view-cbfaed66.js","assets/chakra-0292837a.js","assets/react-61f43b90.js","assets/use-templates-f45db4c5.js"]));function Zi(){return d.jsx(zr,{children:d.jsx(Vi,{children:d.jsx(mi,{children:d.jsxs(_r,{children:[d.jsx(Ne,{path:"/new",element:d.jsxs($e,{suspenseFallback:d.jsx(De,{isIndeterminate:!0}),children:[d.jsx(Ki,{}),d.jsx(Qi,{})]})}),d.jsx(Ne,{path:"/import",element:d.jsxs($e,{suspenseFallback:d.jsx(De,{isIndeterminate:!0}),children:[d.jsx(Ji,{}),d.jsx(qi,{})]})}),d.jsx(Ne,{path:"/",element:d.jsxs($e,{suspenseFallback:d.jsx(De,{isIndeterminate:!0}),children:[d.jsx(Gi,{}),d.jsx(Yi,{})]})})]})})})})}const Xi=[{id:"basic",name:{en:"Basic",ko:"","zh-Hans":"","zh-Hant":""}},{id:"mtr",name:{en:"MTR",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"gzmtr",name:{en:"Guangzhou Metro",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"shmetro",name:{en:"Shanghai Metro",ko:" ","zh-Hans":"","zh-Hant":""}}],es=[{id:"amtr",name:{en:"Amoy Transit Rail","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"bjsubway",name:{en:"Beijing Subway",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"ccrt",name:{en:"Changchun Rail Transit","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"chengdumetro",name:{en:"Chengdu Metro",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"crt",name:{en:"Chongqing Rail Transit",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"czmetro",name:{en:"Changzhou Metro","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"dgmetro",name:{en:"Dongguan Metro",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"dlmetro",name:{en:"Dalian Metro","zh-Hans":"","zh-Hant":""}},{id:"dtro",name:{en:"Daegu Metropolitan Transit Corporation",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"fmetro",name:{en:"Foshan Metro",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"fzmtr",name:{en:"Fuzhou Metro","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"guiyang",name:{en:"Guiyang Metro","zh-Hans":"","zh-Hant":""}},{id:"hfmetro",name:{en:"Hefei Metro","zh-Hans":"","zh-Hant":""}},{id:"hhhtmetro",name:{en:"Hohhot Metro","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"hncsmtr",name:{en:"Changsha Metro","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"hrbmetro",name:{en:"Harbin Metro",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"HUMetro",name:{en:"Busan Transportation Corporation",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"hzmetro",name:{en:"Hangzhou Metro","zh-Hans":"","zh-Hant":""}},{id:"jinan",name:{en:"Jinan Metro","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"JREAST",name:{en:"East Japan Railway","zh-Hans":"","zh-Hant":""}},{id:"kmrailtransit",name:{en:"Kunming Rail Transit",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"krtc",name:{en:"Kaohsiung Rapid Transit Corporation","zh-Hans":"","zh-Hant":""}},{id:"kvtransit",name:{en:"Klang Valley Integrated Transit System","zh-Hans":"","zh-Hant":""}},{id:"lahoremetro",name:{en:"Lahore Metro",ur:" ","zh-Hans":"","zh-Hant":""}},{id:"luoyangsubway",name:{en:"Luoyang Subway","zh-Hans":"","zh-Hant":""}},{id:"metrolisboa",name:{en:"Lisbon Metro","zh-Hans":"","zh-Hant":""}},{id:"mlm",name:{en:"Macao LRT",pt:"Metro Ligeiro de Macau","zh-Hans":"","zh-Hant":""}},{id:"nbrailtransit",name:{en:"Ningbo Rail Transit",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"ncmtr",name:{en:"Nanchang Metro","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"njmetro",name:{en:"Nanjing Metro",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"nnrt",name:{en:"Nanning Rail Transit","zh-Hans":"","zh-Hant":""}},{id:"ntmetro",name:{en:"New Taipei Metro","zh-Hans":"","zh-Hant":""}},{id:"ntrailway",name:{en:"Nantong Rail Transit","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"qdmetro",name:{en:"Qingdao Metro",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"ratp",name:{en:"RATP","zh-Hans":"","zh-Hant":""}},{id:"romrmetro",name:{en:"Rome Metro","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"santiagometro",name:{en:"Santiago Metro","zh-Hans":"","zh-Hant":""}},{id:"saopaulometro",name:{en:"So Paulo Metro",pt:"Metr de So Paulo","zh-Hans":"","zh-Hant":""}},{id:"seoulmetro",name:{en:"Seoul Metropolitan Subway",ko:"  ","zh-Hans":"","zh-Hant":""}},{id:"sjzmetro",name:{en:"Shijiazhuang Metro","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"sncf",name:{en:"SNCF","zh-Hans":"","zh-Hant":""}},{id:"sxsmtr",name:{en:"Shaoxing Rail Transit","zh-Hans":"","zh-Hant":""}},{id:"symtc",name:{en:"Shenyang Metro","zh-Hans":"","zh-Hant":""}},{id:"szmetro",name:{en:"Shenzhen Metro",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"szmtr",name:{en:"Suzhou Rail Transit","zh-Hans":"","zh-Hant":""}},{id:"taipeimrt",name:{en:"Taipei Metro",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"taiyuanmetro",name:{en:"Taiyuan Metro","zh-Hans":"","zh-Hant":""}},{id:"tjrt",name:{en:"Tianjin Metro",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"tmrt",name:{en:"Taichung MRT","zh-Hans":"","zh-Hant":""}},{id:"torontosubway",name:{en:"Toronto Subway",fr:"Mtro de Toronto","zh-Hans":"","zh-Hant":""}},{id:"tymtr",name:{en:"Taoyuan Metro","zh-Hans":"","zh-Hant":""}},{id:"tyometro",name:{en:"Tokyo Metro","zh-Hans":"","zh-Hant":""}},{id:"urumqimetro",name:{en:"Urumqi Metro","zh-Hans":"","zh-Hant":""}},{id:"whrt",name:{en:"Wuhan Metro",ko:" ","zh-Hans":"","zh-Hant":""}},{id:"wuhurail",name:{en:"Wuhu Rail Transit","zh-Hans":"","zh-Hant":""}},{id:"wxmetro",name:{en:"Wuxi Metro","zh-Hans":"","zh-Hant":""}},{id:"wzmtr",name:{en:"Wenzhou Rail Transit","zh-Hans":"","zh-Hant":""}},{id:"xianrail",name:{en:"Xi'an Metro","zh-Hans":"","zh-Hant":"",ko:" "}},{id:"xzmetro",name:{en:"Xuzhou Metro","zh-Hans":"","zh-Hant":""}},{id:"zjrt",name:{en:"Zhejiang Rail Transit","zh-Hans":"","zh-Hant":""}},{id:"zzmetro",name:{en:"Zhengzhou Metro",ko:" ","zh-Hans":"","zh-Hant":""}}],ts=[{filename:"default",name:{en:"Default",ko:"","zh-Hans":"","zh-Hant":""}},{filename:"coline",name:{en:"Track Share",ko:"","zh-Hans":"","zh-Hant":""}},{filename:"loop",name:{en:"Loop Line",ko:"","zh-Hans":"","zh-Hant":""}}],ns=[{filename:"twl",name:{en:"Tsuen Wan Line",ko:"","zh-Hans":"","zh-Hant":""},uploadBy:"wongchito"},{filename:"ktl",name:{en:"Kwun Tong Line",ko:"","zh-Hans":"","zh-Hant":""},uploadBy:"wongchito"},{filename:"isl",name:{en:"Island Line",ko:"","zh-Hans":"","zh-Hant":""},uploadBy:"wongchito"},{filename:"tkl",name:{en:"Tseung Kwan O Line",ko:"","zh-Hans":"","zh-Hant":""},uploadBy:"wongchito"},{filename:"tcl",name:{en:"Tung Chung Line",ko:"","zh-Hans":"","zh-Hant":""},uploadBy:"wongchito"},{filename:"sile",name:{en:"South Island Line",ko:"","zh-Hans":"","zh-Hant":""},uploadBy:"wongchito"},{filename:"drl",name:{en:"Disneyland Resort Line",ko:"","zh-Hans":"","zh-Hant":""},uploadBy:"wongchito"},{filename:"ael",name:{en:"Airport Express",ko:" ","zh-Hans":"","zh-Hant":""},uploadBy:"wongchito"},{filename:"eal",name:{en:"East Rail Line",ko:"","zh-Hans":"","zh-Hant":""},uploadBy:"wongchito"},{filename:"tml",name:{en:"Tuen Ma Line","zh-Hans":"","zh-Hant":"",ko:""},uploadBy:"wongchito"},{filename:"505",name:{en:"Light Rail Route 505","zh-Hans":"505","zh-Hant":"505"},uploadBy:"cartop-114514"}],rs=[{filename:"gz1",name:{en:"Line 1",ko:"1","zh-Hans":"1","zh-Hant":"1"},uploadBy:"wongchito"},{filename:"gz2",name:{en:"Line 2","zh-Hans":"2","zh-Hant":"2",ko:"2"},uploadBy:"wongchito"},{filename:"gz3",name:{en:"Line 3","zh-Hans":"3","zh-Hant":"3",ko:"3"},uploadBy:"wongchito"},{filename:"gz4",name:{en:"Line 4",ko:"4","zh-Hans":"4","zh-Hant":"4"},uploadBy:"wongchito"},{filename:"gz5",name:{en:"Line 5",ko:"5","zh-Hans":"5","zh-Hant":"5"},uploadBy:"wongchito"},{filename:"gz6",name:{en:"Line 6",ko:"6","zh-Hans":"6","zh-Hant":"6"},uploadBy:"wongchito"},{filename:"gz7",name:{en:"Line 7","zh-Hans":"7","zh-Hant":"7",ko:"7"},uploadBy:"wongchito"},{filename:"gz8",name:{en:"Line 8",ko:"8","zh-Hans":"8","zh-Hant":"8"},uploadBy:"wongchito"},{filename:"gz9",name:{en:"Line 9",ko:"9","zh-Hans":"9","zh-Hant":"9"},uploadBy:"wongchito"},{filename:"gz13",name:{en:"Line 13","zh-Hans":"13","zh-Hant":"13",ko:"13"},uploadBy:"Dingdong2334"},{filename:"gz14",name:{en:"Line 14","zh-Hans":"14","zh-Hant":"14",ko:"14"},uploadBy:"wongchito"},{filename:"gz18",name:{en:"Line 18","zh-Hans":"18","zh-Hant":"18",ko:"18"},uploadBy:"Dingdong2334"},{filename:"gz21",name:{en:"Line 21","zh-Hans":"21","zh-Hant":"21",ko:"21"},uploadBy:"wongchito"},{filename:"gz22",name:{en:"Line 22",ko:"22","zh-Hans":"22","zh-Hant":"22"},uploadBy:"wongchito"},{filename:"gf",name:{en:"Guangfo Line",ko:" ","zh-Hans":"","zh-Hant":""},uploadBy:"wongchito"},{filename:"apm",name:{en:"APM Line",ko:"  ","zh-Hans":"APM","zh-Hant":"APM"},uploadBy:"Dingdong2334"},{filename:"thz1",name:{en:"Haizhu Tram Line 1",ko:"  1","zh-Hans":"1","zh-Hant":"1"},uploadBy:"clearng-kly"},{filename:"thp1",name:{en:"Huangpu Tram Line 1",ko:"  1","zh-Hans":"1","zh-Hant":"1"},uploadBy:"clearng-kly"}],as=[{filename:"sh1",name:{en:"Line 1",ko:"1","zh-Hans":"1","zh-Hant":"1"},uploadBy:"thekingofcity"},{filename:"sh2",name:{en:"Line 2",ko:"2","zh-Hans":"2","zh-Hant":"2"},uploadBy:"thekingofcity"},{filename:"sh3",name:{en:"Line 3 (External)",ko:"3()","zh-Hans":"3 ","zh-Hant":"3 "},uploadBy:"thekingofcity"},{filename:"sh4",name:{en:"Line 4 (Loop)",ko:"4()","zh-Hans":"4 ","zh-Hant":"4 "},uploadBy:"thekingofcity"},{filename:"sh3&4",name:{en:"Line 3 and 4 (External with Loop)",ko:"3 4( )","zh-Hans":"34 ","zh-Hant":"34 "},uploadBy:"thekingofcity"},{filename:"sh5",name:{en:"Line 5",ko:"5","zh-Hans":"5","zh-Hant":"5"},uploadBy:"Tianxiu11111"},{filename:"sh6",name:{en:"Line 6",ko:"6","zh-Hans":"6","zh-Hant":"6"},uploadBy:"Thomastzc"},{filename:"sh7",name:{en:"Line 7",ko:"7","zh-Hans":"7","zh-Hant":"7"},uploadBy:"Thomastzc"},{filename:"sh8",name:{en:"Line 8",ko:"8","zh-Hans":"8","zh-Hant":"8"},uploadBy:"thekingofcity"},{filename:"sh9",name:{en:"Line 9",ko:"9","zh-Hans":"9","zh-Hant":"9"},uploadBy:"thekingofcity"},{filename:"sh10",name:{en:"Line 10 (Branch)",ko:"10()","zh-Hans":"10 ","zh-Hant":"10 "},uploadBy:"thekingofcity"},{filename:"sh11",name:{en:"Line 11",ko:"11","zh-Hans":"11","zh-Hant":"11"},uploadBy:"Tianxiu11111"},{filename:"sh12",name:{en:"Line 12",ko:"12","zh-Hans":"12","zh-Hant":"12"},uploadBy:"Andy1782010"},{filename:"sh13",name:{en:"Line 13",ko:"13","zh-Hans":"13","zh-Hant":"13"},uploadBy:"Andy1782010"},{filename:"sh14",name:{en:"Line 14",ko:"14","zh-Hans":"14","zh-Hant":"14"},uploadBy:"thekingofcity"},{filename:"sh15",name:{en:"Line 15",ko:"15","zh-Hans":"15","zh-Hant":"15"},uploadBy:"Thomastzc"},{filename:"sh16",name:{en:"Line 16 (Express)",ko:"16()","zh-Hans":"16 ","zh-Hant":"16 "},uploadBy:"thekingofcity"},{filename:"sh17",name:{en:"Line 17",ko:"17","zh-Hans":"17","zh-Hant":"17"},uploadBy:"Thomastzc"},{filename:"sh18",name:{en:"Line 18",ko:"18","zh-Hans":"18","zh-Hant":"18"},uploadBy:"Tianxiu11111"},{filename:"shpj",name:{en:"Pujiang Line","zh-Hans":"","zh-Hant":""},uploadBy:"bobo45-1"},{filename:"shmg",name:{en:"Maglev Line","zh-Hans":"","zh-Hant":"",ko:""},uploadBy:"polygon827"}],os={basic:ts,mtr:ns,gzmtr:rs,shmetro:as};var Wt;(function(t){t.MTR="mtr",t.GZMTR="gzmtr",t.SHMetro="shmetro"})(Wt||(Wt={}));const is=Xi,ss=es,ls=os,us={coreCompanyConfig:is,otherCompanyConfig:ss,templateList:ls,selectedCompany:""},An=tn({name:"app",initialState:us,reducers:{setTemplateListByCompany:(t,e)=>{const{company:n,templates:r}=e.payload;t.templateList[n]=r},setSelectedCompany:(t,e)=>{t.selectedCompany=e.payload}}}),{setTemplateListByCompany:Ku,setSelectedCompany:cs}=An.actions,hs=An.reducer,ds=t=>{const e=document.createElement("details");e.setAttribute("repo","rmg-templates"),e.setAttribute("company",t.id),e.setAttribute("line","00config");const n=document.createElement("summary");n.textContent="New company: "+t.name.en,e.append(n);const r=document.createElement("details");return r.setAttribute("type","name"),r.textContent=JSON.stringify(t.name),e.append(r),e},fs=(t,e,n,r,a)=>{const o=document.createElement("details");o.setAttribute("repo","rmg-templates"),o.setAttribute("company",t),o.setAttribute("line",e),o.setAttribute("major",n.toString());const i=document.createElement("summary");i.textContent=`${t}/${e}`+(n?"(M)":""),o.append(i);const s=document.createElement("details");s.setAttribute("type","name"),s.textContent=JSON.stringify(r),o.append(s);const l=document.createElement("details");return l.setAttribute("type","param"),l.textContent=JSON.stringify(a),o.append(l),o},ps="",gs="",ms="",ys="",vs="",bs="",ws="",xs="",Ss="",Os="",Cs="/Language",zs="",_s="",Hs="",Ts="",Es="",Rs="",Ls="",ks="",js="",Ps="",As="",Ns="",Ms="",Is={Action:ps,Apps:gs,"Back to list":"","Background colour":"",Black:ms,Cancel:ys,City:vs,Components:bs,"Configuration file":"",Confirm:ws,Continue:xs,"Country/Region":"/",Copy:Ss,Edit:Os,"Foreground colour":"","Go back":"",Language:Cs,Justification:zs,Name:_s,Next:Hs,Open:Ts,Palette:Es,"Please select...":"...",Previous:Rs,"Rail Map Generator":"","Rail Map Painter":"","Rail Map Toolkit":"",Remove:Ls,Reset:ks,"RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":"",Settings:js,Submit:Ps,Translate:As,Upload:Ns,White:Ms},$s="",Bs="",Ds="",Fs="",Us="",Vs="",Ws="",Gs="",Ks="",Js="",Ys="/Language",qs="",Qs="",Zs="",Xs="",el="",tl="",nl="",rl="",al="",ol="",il="",sl="",ll="",ul={Action:$s,Apps:Bs,"Back to list":"","Background colour":"",Black:Ds,Cancel:Fs,City:Us,Components:Vs,"Configuration file":"",Confirm:Ws,Continue:Gs,Copy:Ks,"Country/Region":"/",Edit:Js,"Foreground colour":"","Go back":"",Language:Ys,Justification:qs,Name:Qs,Next:Zs,Open:Xs,Palette:el,"Please select...":"...",Previous:tl,"Rail Map Generator":"","Rail Map Painter":"","Rail Map Toolkit":"",Remove:nl,Reset:rl,"RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":"",Settings:al,Submit:ol,Translate:il,Upload:sl,White:ll},cl="/Language",hl="",dl="",fl={Language:cl,Palette:hl,"Rail Map Generator":"","Rail Map Toolkit":"",Remove:dl,"RMG Templates":"RMG "},pl="",gl="",ml="",yl="",vl="",bl="",wl="",xl="",Sl="",Ol="/Language",Cl="",zl="",_l="",Hl="",Tl="",El="",Rl="",Ll="",kl="",jl="",Pl="",Al="",Nl="",Ml={Action:pl,Apps:gl,"Back to list":" ","Background colour":"",Black:ml,Cancel:yl,City:vl,Components:bl,"Configuration file":"  ",Confirm:wl,Copy:xl,"Country/Region":"/",Edit:Sl,"Foreground colour":"","Go back":"",Language:Ol,Justification:Cl,Name:zl,Next:_l,Open:Hl,Palette:Tl,"Please select...":"",Previous:El,"Rail Map Generator":"  ","Rail Map Painter":"  ","Rail Map Toolkit":" ",Remove:Rl,Reset:Ll,"RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":" ",Settings:kl,Submit:jl,Translate:Pl,Upload:Al,White:Nl};var Gt=["en","zh-Hans","zh-Hant"],Il=["ja","ko"],Ju={ar:{ar:"",en:"Arabic",ko:"","zh-Hans":"","zh-Hant":""},az:{az:"Azrbaycanca",en:"Azerbaijani",ko:"","zh-Hans":"","zh-Hant":""},ca:{ca:"Catal",en:"Catalan",ko:"","zh-Hans":"","zh-Hant":""},da:{da:"Dansk",en:"Danish",ko:"","zh-Hans":"","zh-Hant":""},de:{de:"Deutsch",en:"German",ko:"","zh-Hans":"","zh-Hant":""},el:{el:"",en:"Greek",ko:"","zh-Hans":"","zh-Hant":""},en:{en:"English",ja:"",ko:"","zh-Hans":"","zh-Hant":""},es:{en:"Spanish",es:"Espaol",ko:"","zh-Hans":"","zh-Hant":""},fa:{en:"Persian",fa:"",ko:"","zh-Hans":"","zh-Hant":""},fr:{en:"French",fr:"Franais",ko:"","zh-Hans":"","zh-Hant":""},ga:{en:"Irish",ga:"Gaeilge",ko:"","zh-Hans":"","zh-Hant":""},gd:{en:"Scottish Gaelic",gd:"Gidhlig",ko:" ","zh-Hans":"","zh-Hant":""},hi:{en:"Hindi",hi:"",ko:"","zh-Hans":"","zh-Hant":""},hu:{en:"Hungarian",hu:"Magyar",ko:"","zh-Hans":"","zh-Hant":""},id:{en:"Indoesian",id:"Bahasa Indonesia",ko:"","zh-Hans":"","zh-Hant":""},it:{en:"Italian",it:"Italiano",ko:"","zh-Hans":"","zh-Hant":""},ja:{en:"Japanese",ja:"",ko:"","zh-Hans":"","zh-Hant":""},kk:{en:"Kazakh",kk:"",ko:"","zh-Hans":"","zh-Hant":""},ko:{en:"Korean",ja:"",ko:"","zh-Hans":"","zh-Hant":""},ms:{en:"Malay",ko:"",ms:"Bahasa Melayu","zh-Hans":"","zh-Hant":""},no:{en:"Norwegian",ko:"",no:"Norsk","zh-Hans":"","zh-Hant":""},pl:{en:"Polish",ko:"",pl:"Polski","zh-Hans":"","zh-Hant":""},pt:{en:"Portuguese",ko:"",pt:"Portugus","zh-Hans":"","zh-Hant":""},ro:{en:"Romanian",ko:"",ro:"Romn","zh-Hans":"","zh-Hant":""},ru:{en:"Russian",ko:"",ru:"","zh-Hans":"","zh-Hant":""},sv:{en:"Swedish",ko:"",sv:"Svenska","zh-Hans":"","zh-Hant":""},th:{en:"Thai",ko:"",th:"","zh-Hans":"","zh-Hant":""},tr:{en:"Turkish",ko:"",tr:"Trke","zh-Hans":"","zh-Hant":""},uk:{en:"Ukrainian",ko:"",uk:"","zh-Hans":"","zh-Hant":""},ur:{en:"Urdo",ko:"",ur:"","zh-Hans":"","zh-Hant":""},uz:{en:"Uzbek",ko:"",uz:"Ozbekcha","zh-Hans":"","zh-Hant":""},vi:{en:"Vietnamese",ko:"",vi:"Ting Vit","zh-Hans":"","zh-Hant":""},"zh-Hans":{en:"Simplified Chinese",ja:"",ko:" ","zh-Hans":"","zh-Hant":""},"zh-Hant":{en:"Traditional Chinese",ja:"",ko:" ","zh-Hans":"","zh-Hant":""}},$l={en:{},"zh-Hans":Is,"zh-Hant":ul,ja:fl,ko:Ml};const Kt=()=>({id:crypto.randomUUID(),line:"",newLine:"",majorUpdate:!1,templateName:{en:"","zh-Hans":"","zh-Hant":""},optionalName:Il.map(t=>[t,""]),param:void 0}),Jt={company:"",newCompany:"",companyName:{en:"","zh-Hans":"","zh-Hant":""},companyOptionalName:[["ko",""]],templates:[]},Nn=tn({name:"ticket",initialState:Jt,reducers:{setCompany:(t,e)=>{t.company=e.payload,e.payload==="new"&&(t.templates=t.templates.map(n=>({...n,line:"new"})))},setNewCompany:(t,e)=>{t.newCompany=e.payload},setCompanyNameByLang:(t,e)=>{const{lang:n,name:r}=e.payload;t.companyName[n]=r},setCompanyOptionalName:(t,e)=>{t.companyOptionalName=e.payload},addTemplate:t=>{t.templates.push(Kt())},setTemplateLineById:(t,e)=>{var i;const{id:n,line:r,name:a}=e.payload,o={...(i=t.templates.find(s=>s.id===n))!=null?i:Kt(),line:r};a&&(o.templateName=Gt.reduce((s,l)=>{var u;return{...s,[l]:(u=a[l])!=null?u:""}},{}),o.optionalName=Object.entries(a).filter(([s])=>!Gt.includes(s))),t.templates=t.templates.map(s=>s.id===n?o:s)},setTemplateNewLineById:(t,e)=>{t.templates=t.templates.map(n=>n.id===e.payload.id?{...n,newLine:e.payload.newLine}:n)},setTemplateMajorFlagById:(t,e)=>{t.templates=t.templates.map(n=>n.id===e.payload.id?{...n,majorUpdate:e.payload.majorUpdate}:n)},setTemplateLineNameById:(t,e)=>{t.templates=t.templates.map(n=>n.id===e.payload.id?{...n,templateName:{...n.templateName,[e.payload.lang]:e.payload.name}}:n)},setTemplateOptionalNameById:(t,e)=>{t.templates=t.templates.map(n=>n.id===e.payload.id?{...n,optionalName:e.payload.optionalName}:n)},setTemplateParamById:(t,e)=>{t.templates=t.templates.map(n=>n.id===e.payload.id?{...n,param:e.payload.param}:n)},removeTemplate:(t,e)=>{t.templates=t.templates.filter(n=>n.id!==e.payload)},resetTicket:()=>Jt}}),Yu={getCompanyEnglishName:(t,e)=>{var n,r,a;return t.company==="new"?t.companyName.en:(a=(r=(n=e.find(o=>o.id===t.company))==null?void 0:n.name)==null?void 0:r.en)!=null?a:""},getCompanyBlock:t=>t.company!=="new"?null:ds({id:t.newCompany,name:t.companyName}),getTemplateBlocks:t=>{const e=t.company==="new"?t.newCompany:t.company;return t.templates.map(n=>{const r=n.line==="new"?n.newLine:n.line,a=n.line!=="new"&&n.majorUpdate,o=[...Object.entries(n.templateName),...n.optionalName].reduce((i,s)=>{const l=s[1].trim();return l?{...i,[s[0]]:l}:i},{});return fs(e,r,a,o,n.param)})},getCompanyErrors:t=>{const e=[],{company:n,newCompany:r,companyName:a}=t;return(!n||n==="new"&&!r)&&e.push("COMPANY_CODE_UNDEFINED"),n==="new"&&Object.values(a).some(o=>!o)&&e.push("COMPANY_NAME_INCOMPLETE"),e},getTemplateErrors:t=>{const e={Overall:[]},{templates:n}=t;return n.length===0&&e.Overall.push("TEMPLATE_SECTION_EMPTY"),n.some(r=>!r.line||r.line==="new"&&!r.newLine)&&e.Overall.push("TEMPLATE_CODE_UNDEFINED"),new Set(n.map(r=>r.line==="new"?r.newLine:r.line)).size!==n.length&&e.Overall.push("TEMPLATE_CODE_DUPLICATED"),n.forEach(r=>{const a=[];Object.values(r.templateName).some(o=>!o)&&a.push("TEMPLATE_NAME_INCOMPLETE"),r.param||a.push("TEMPLATE_PARAM_UNDEFINED"),e["Line "+r.line||r.newLine]=a}),e},getMajorUpdateNames:(t,e)=>{const{company:n,templates:r}=t;return n==="new"?[]:r.filter(a=>a.majorUpdate&&a.line!=="new").map(a=>{var i;const o=(i=e[n].find(s=>s.filename===a.line))==null?void 0:i.name;return o?Object.values(o).join("/"):a.line})}},{setCompany:qu,setNewCompany:Qu,setCompanyNameByLang:Zu,setCompanyOptionalName:Xu,addTemplate:ec,setTemplateLineById:tc,setTemplateNewLineById:nc,setTemplateMajorFlagById:rc,setTemplateLineNameById:ac,setTemplateOptionalNameById:oc,setTemplateParamById:ic,removeTemplate:sc,resetTicket:lc}=Nn.actions,Bl=Nn.reducer,Dl=Hr(),pt=Tr({reducer:{app:hs,ticket:Bl},middleware:t=>t().prepend(Dl.middleware)}),uc=()=>_o(),cc=mo,Fl=Er;window.rmgStore=pt;const Ul={},Vl="",Wl="",Gl="",Kl="",Jl="",Yl="",ql="",Ql="",Zl="",Xl="",eu="",tu="",nu="",ru="",au={"Add a company...":"...","Add a line...":"...","Add item":"","Add more translations":"","Add or update templates":"","Add translation":"","Briefly describe your changes and provide justification":"",chars:Vl,"Click copy button and paste into issue body":" Issue ",Close:Wl,Company:Gl,"Company code":"","Core companies":"","Follow the instructions below to open an Issue":" Issue",Import:Kl,"Import from":"","Justification for major update of":"",Line:Jl,"Line code":"",Local:Yl,"Major update":"",New:ql,No:Ql,"No templates available in selected company.":"","Other companies":"","Please provide suitable source and justification.":"","Railway company":"","Remove this line":"","Remove translation":"",Selector:Zl,Size:Xl,Style:eu,"Submit templates":"",Templates:tu,"Toggling on 'Major update' will update the uploader field of the template and you are required enter extra justification for it.":"","Unable to import selected template.":"","Upload templates":"",Uploader:nu,Yes:ru,"Your inputs contain the following errors. Please fix it before submitting.":""},ou="",iu="",su="",lu="",uu="",cu="",hu="",du="",fu="",pu="",gu="",mu="",yu="",vu="",bu={"Add a company...":"...","Add a line...":"...","Add item":"","Add more translations":"","Add or update templates":"","Add translation":"","Briefly describe your changes and provide justification":"",chars:ou,"Click copy button and paste into issue body":" Issue ",Close:iu,Company:su,"Company code":"","Core companies":"","Follow the instructions below to open an Issue":" Issue",Import:lu,"Import from":"","Justification for major update of":"",Line:uu,"Line code":"",Local:cu,"Major update":"",New:hu,No:du,"No templates available in selected company.":"","Other companies":"","Please provide suitable source and justification.":"","Railway company":"","Remove this line":"","Remove translation":"",Selector:fu,Size:pu,Style:gu,"Submit templates":"",Templates:mu,"Toggling on 'Major update' will update the uploader field of the template and you are required enter extra justification for it.":"","Unable to import selected template.":"","Upload templates":"",Uploader:yu,Yes:vu,"Your inputs contain the following errors. Please fix it before submitting.":""},wu="",xu="",Su="",Ou="",Cu="",zu="",_u={"Add a company...":" ","Add a line...":" ","Add item":" ","Add or update templates":"   ","Briefly describe your changes and provide justification":"     ","Click copy button and paste into issue body":"    Issue  ",Close:wu,Company:xu,"Company code":" ","Follow the instructions below to open an Issue":"  Issue ","Justification for major update of":"  :",Line:Su,"Line code":" ","Major update":" ","Please provide suitable source and justification.":"     .","Railway company":"",Style:Ou,"Submit templates":" ",Templates:Cu,"Toggling on 'Major update' will update the uploader field of the template and you are required enter extra justification for it.":"' '      .    .","Upload templates":" ",Uploader:zu,"Your inputs contain the following errors. Please fix it before submitting.":"         ."},Hu=new C.I18nBuilder().use(Rr).withAppName("RMG Templates").withLng(C.getLanguage()).withDefaultResource($l).withResource("en",Ul).withResource("zh-Hans",au).withResource("zh-Hant",bu).withResource("ko",_u).build();var Mn,Yt=en;Mn=Yt.createRoot,Yt.hydrateRoot;var Tu=(t=>(t.APP_LOAD="APP_LOAD",t.UPLOAD_TEMPLATES="UPLOAD_TEMPLATES",t.RESET_TICKETS="RESET_TICKETS",t.APP_CLIP_VIEW_OPENED="APP_CLIP_VIEW_OPENED",t.APP_CLIP_VIEW_CLOSED="APP_CLIP_VIEW_CLOSED",t.APP_CLIP_VIEW_IMPORT="APP_CLIP_VIEW_IMPORT",t))(Tu||{});const hc={COMPANY_CODE_UNDEFINED:{en:"Company code is missing","zh-Hans":"","zh-Hant":""},COMPANY_NAME_INCOMPLETE:{en:"Company name is not completed","zh-Hans":"","zh-Hant":""},TEMPLATE_SECTION_EMPTY:{en:"Template section is empty","zh-Hans":"","zh-Hant":""},TEMPLATE_CODE_UNDEFINED:{en:"Template code is missing","zh-Hans":"1","zh-Hant":"1"},TEMPLATE_CODE_DUPLICATED:{en:"Duplicated template code found","zh-Hans":"","zh-Hant":""},TEMPLATE_NAME_INCOMPLETE:{en:"Template name is not completed","zh-Hans":"","zh-Hant":""},TEMPLATE_PARAM_UNDEFINED:{en:"Configuration file is not uploaded","zh-Hans":"","zh-Hant":""}},dc="**Do not edit lines below, they are meant for bots only!!!**",qt="selectedCompany";async function Eu(t){var e;t.dispatch(cs((e=C.storage.get(qt))!=null?e:"")),t.dispatch(Fl({predicate:(n,r,a)=>r.app.selectedCompany!==a.app.selectedCompany,effect:(n,r)=>{C.storage.set(qt,r.getState().app.selectedCompany)}}))}let Qt;const Ru=()=>{Qt=Mn(document.getElementById("root")),Qt.render(d.jsx(m.StrictMode,{children:d.jsx(Oo,{store:pt,children:d.jsx(Lr,{i18n:Hu,children:d.jsx(Zi,{})})})}))};C.ready().then(()=>Eu(pt)).then(()=>{Ru(),C.injectUITools()});export{Bu as A,Du as B,Fu as C,$u as D,Tu as E,Nu as F,dc as G,Ku as H,hc as I,Ju as L,Uu as R,Gt as S,ku as __vite_legacy_guard,De as a,_o as b,Vu as c,Iu as d,uc as e,qu as f,Qu as g,Zu as h,Wu as i,Gu as j,Xu as k,Mu as l,Au as m,nc as n,rc as o,ac as p,oc as q,C as r,cs as s,ic as t,cc as u,sc as v,ec as w,tc as x,Yu as y,lc as z};
